# soa試験テキスト

## モニタリング、ロギング、修復
- ワークロード: AWS上に構築されたシステム。
- メトリクス: AWSリソースの使用状況を収集し、数値化された時系列データセットのこと。
- CloudWatch: メトリクスのリポジトリ。
- CloudWatchエージェント: アプリケーションごとのメモリ使用率など、OSの内部で取得する必要のあるデータをカスタムメトリクスとしてCloudWatchに収集する。
- CloudWatch Logs: ログの一元管理・検索・フィルター処理を行うサービス。
- AWS Config: AWSリソースの設置を記録して評価するサービス。
    - AWS Config ルール: AWSリソースの設定内容をチェックして、修復アクションの実行(AWS Systems Manager Automation)、SNSによる通知を行う。

## 信頼性とビジネス継続性

- 信頼性: 障害に対して回避・維持・回復する能力。

- Auto Scaling: ターゲットに対してスケーリングを行うことが目的。
    - 手動スケーリング
    - スケジュールスケーリング
    - 動的スケーリング:
        - 簡易スケーリング: CPU使用率が50%を超えるとEC2インスタンスを1つ追加するなど。実行できることも少ないため、非推奨。
        - ステップスケーリング: CPU使用率が60~70%ならEC2インスタンスを1つ追加、70~80%ならEC2インスタンスを2つ追加など。
        - ターゲット追跡スケーリング: CPU使用率50%が目標値とすると、スケーリンググループ全体のCPU使用率が50%になるように自動的にスケールアウト/スケールインの調整がされる。
    - 予測スケーリング: 過去のCloudWatchのメトリクスを機械学習させてシステム負荷の動向を推測し、そのパターンに応じてスケーリングを行う。
    - スケーリング対象:
        - Amazon EC2 Auto Scaling Group
        - Amazon EC2 スポットフリートリクエスト
        - Amazon ECS
        - Amazon DynamoDB
        - Amazon Aurora
    - Auto Scaling Group: スケーリングに関するインスタンスを管理する論理的なグループ。インスタンス数の最小・最大・希望の台などを指定できる。
    - 起動テンプレート: Auto Scaling Groupでスケールアウトが発生し、新たにインスタンスを作成するときの事前の設定。
- ELB: ターゲット(EC2、コンテナ、IPアドレス)のトラフィックを自動分散させる負荷分散サービス。単一リージョンのサービス。
    - ロードバランサー: 一意なFQDN(Fully Qualified Domain Name)を使って接続し、プロトコルとポートごとに各リスナーに振り分け。
    - リスナー: プロトコルとポート、ルールごとに振り分け。
    - ターゲットグループ: ターゲットとヘルスチェックを管理。
    - ヘルスチェック: ターゲットに対して設定したプロトコルでアクセスを行い正常にアクセスできるかをテストする操作。合格したインスタンスのみにリクエストがルーティングされる。
    - ALB: ターゲットへの通信はALB自身が行うため、ターゲットから見た接続元IPはALBになる。接続したユーザーのIPを確認したい場合は、X-Forwarded-For HTTPヘッダーに接続元IPが記録されているので、これをターゲット側で出力するようにする。また、ALB自身にセキュリティグループを設定し、ターゲットのセキュリティグループにALBのセキュリティグループを設定するとターゲットへの接続をALBのみに制限し、外部から直接接続できなくする。
- NLB: UDPを扱うシステムや静的IPでアクセスをしたい場合に最適。

- Route53のヘルスチェック: システムのエンドポイントに対するヘルスチェック。複数のリージョンにあるシステムに対して可能。

- RDS: スタンバイレプリカとリードレプリカがある。
- Aurora: リードレプリカのみ。
- SQSのスケーリング: SQSのqueue数などをlambdaでget metricsで取得し、cloudwatchにput metricsする。cloud watchアラームによってAuto ScalingでEC2インスタンスをスケールアウトできる。
- 可用性: システムが使用できる状態を維持できる能力。
- 耐障害性: 障害が起きていてもシステムを維持できる能力。

- EC2のマルチAZ化: Auto Scaling Groupでネットワーク設定で複数のAZを指定。
- ELBのマルチAZ化: ALBの場合は稼働させるAZを2つ以上選択することによりマルチAZ構成となる。
- RDSのマルチAZ化: マルチAZ設定を行うと別のAZにRDS スタンバイインスタンスが構築される。

- フォールトトレラント: コンポーネントの一部が故障してもシステムがパフォーマンスを落とすことなく動作し続ける能力。

- Route53のルーティングポリシー: DNSの応答をカスタマイズすることでクライアントからのトラフィックを適したリソースへルーティングする機能。
    - シンプルルーティング: 1つのリソースに複数のIPアドレスを設定可能。
    - 加重ルーティングポリシー: ドメインに対して複数のリソースを関連付けることができ、割合を決めることができる。
    - フェイルオーバールーティングポリシー: Route53のヘルスチェックによりリソースが正常なほうへトラフィックをルーティング。
    - レイテンシールーティングポリシー: ネットワークレイテンシーが最も低いAWSリージョンに基づいてリクエストをルーティングできる。
    - 位置情報ルーティングポリシー: DNSリクエストを送信したユーザーの地理的な場所に基づいて名前解決の結果を変えること。
    - 地理的近接性ルーティングポリシー: クライアントだけでなくAWSリソース側の位置情報を考慮してルーティングすることが可能。

- RPO(Recovery Point Objective): 障害が発生した時にどの地点までのデータを復旧させるかの目標。 例えばRPOが1日であれば毎日1回Backupを取得する。
- RTO(Recovery Time Objective): 障害発生時からどのくらいの時間でシステムを復旧させるかの目標。

- RDSスナップショット:
    - 自動スナップショット: 1日1回スナップショット、5分に1回トランザクションログを出力。
- AWS Backup: 様々なAWSリソースのbackupリストを一元管理できるサービス。個々のサービスで行っていたbackup、リストアの操作をまとめて管理できるようにしたもの。
    - EC2
    - DynamoDB
    - EBS
    - S3
    - RDS
    - Storage gateway
    - EFS
- AWS Backup Audit Manager: 全ての対象のリソースで毎日Backupができているか、そのBackupが暗号化されているかなどを確認できる。
- AWS Data Lificycle Manager(DLM): EBSスナップショットとAMIの作成、保持、削除を自動化できる。backupに失敗した時に、設定した世代管理の数だけ直近のbackupが残るが、明確に世代管理する必要がない場合は。AWS Backupで良い。
- データベースのリストア:
    - ポイントインタイムリストア: スナップショットと5分に1回のトランザクションログからリストア
    - リードレプリカの昇格: 5分以上で、あれば瞬時にリストアできるリードレプリカの昇格を選択する。

- S3:
    - アクセスする側の権限: IAMポリシー
    - アクセスされる側の権限: Bucket Policy, ACL
        - Bucket Policy: バケット単位でアクセス制限したい場合やクロスアカウントでの利用
        - ACL: Bucket Policyより弱い権限で、Bucket Policyが優先される。

## 展開、プロビジョニング、	オートメーション

- プロビジョニング: AWSの各種リソースの構築。
- AMI (Amazon Machine Image): ソフトウェア構成をイメージファイルとしてまとめることができる。サーバーのディスクであるEBSに格納されるデータや構成情報も含まれている。

- AWS CloudFormation:
    - スタック: テンプレートファイルから作成されるリソースの集合。
    - 変更セット: CloudFormationの実行により理教を受けるリソースを事前に確認する機能。
    - ドリフト: コンソールとスタック リソースの差分を検出する機能。
- AWS CDK(AWS Cloud Development Kit): cfnテンプレートをTypeScript, Java, Pythonなどのプログラミング言語から生成することができる。

- Blue/Greenデプロイ: 新旧バージョンのアプリケーションを並存させ、ロードバランサーなどの機能でトラフィックを旧から新に切り替えること。

##  セキュリティとコンプライアンス

- IAMポリシー: AWSリソースへのアクセス権限をまとめたもの
    - Action: どのサービスの
    - Resource: どういう機能や範囲を
    - Effect: 許可または拒否

- GuardDuty: CloudTrail, VPCフローログ, DNSログの3種類から悪意のあるログやIPや異常パターンなどを検出する。
- Amazon Detective: CloudTrail, VPCフローログ, GuardDutyの情報を受け取り分析する。Guard Dutyで発見した問題の兆候をさらに詳細に深掘りする用途などで使う。

- SCP(Service Control Policy): AWSアカウントに対するポリシーという形でホワイトリスト/ブラックリスト形式で権限を管理する。上位で決めたポリシーは個々のアカウント単位で打ち消すことはできません。

- SAML2.0を使用したフェデレーション: 
    - 外部の認証機関を利用してAWSリソースにアクセス許可を与える方法としてSAML2.0を利用したフェデレーションがある。
    - SAML(Sercurity Assertion Markup Language)は複数の独立したシステムの間で認証要求や認証の可否の情報をやり取りするための仕様。
    - 外部の認証機関を利用する利点としては、組織内の認証管理の一元化ができることです。
    - Active Directoryのような組織内の認証を一手に担うIDプロバイダーを用意することで、組織・利用者の認証に関する管理負荷を下げることができます。
    - AWSアカウントに対してSAML2.0を使用したフェデレーション設定をする場合はIAMロールのプリンシパルの設定でSAMLプロバイダーとの信頼関係を設定する。
- AWS Directory Service:
    - Simple AD: Samba4を使用したMicrosoft Active Directory互換のディレクトリサービス。
    - AD Connector: Active Directoryに対するプロキシのようなサービスで、オンプレミス上に構築済みのADがある場合にAD Connectorを経由して認証することができる。
    - AWS Manged Microsoft AD: Active Directoryそのものを構築。
- Amazon Macie: 機械学習によるデータ分類、識別の自動化サービス。

- AWS Key Management Serivce(KMS): 暗号化キーの作成と管理を行うマネージドサービス。
    - エンベロープ暗号化: 暗号化の為に使用するキーをさらに別のキーで暗号化する仕組み。
    - Customer Data Key (CDK): 暗号化のために使用するキー。
    - Customer Master Key(CMK): CDKを暗号化するキー。

- ストレージの種類:
    - S3(オブジェクトストレージ): ファイルをオブジェクトとしてフラットな形式で保存する。
    - EBS(ブロックストレージ): データをブロック単位で分割して保存。サーバーのハードディスクなどに利用。
    - EFS(ファイルストレージ): ディレクトリとファイル構造を持つ形式でファイルを保存する。

- S3の暗号化:
    - サーバーサイド暗号化: S3にデータが到達した後、S3側でデータの暗号化を行う方法。
        - Amason S3キー(SSE-S3)
        - AWS KMSキー(SSE-KMS)
        - ユーザーが指定したキー(SSE-C): コンソールからは利用できず、AWS CLI, AWS SDKまたはS3 RESTAPIを使用する必要がある。
    - クライアントサイド暗号化: クライアント側でデータを暗号化してS3にアップロードする方法。
- EBSの暗号化: EBSボリュームとスナップショットのいずれも暗号化が可能。デフォルトの暗号化を強制することができる。
- EFSの暗号化: ファイルシステム作成時に暗号化するか選択できる。デフォルト暗号化の強制も可能。
- RDSの暗号化: インスタンスを新規作成する時のみ暗号化の設定が可能。
- ACM(AWS Certificate Manager): SSL/TLSで用いる証明書の発行と管理を行うマネージドサービス。
    - ELB: ELBに証明書を適用することで外部からのアクセスをSSL/TLSで暗号化することができる。
    - Amazon CloudFront: ディストリビューションに証明書を適用することで、CloudFrontで配信されるコンテンツへのアクセスを暗号化する。

- AWS VPN(Virtual Private Network): インターネットを利用して仮想のプライベートネットワークを構築する技術。
    - AWS Site-to-Site VPN: オンプレミスとAWSの拠点間ネットワークをIPsecおよびVPN接続する仕組み。オンプレミス側にVPN接続のための機器(カスタマーゲートウェイ)を用意する必要がある。社内ネットワークとAWSを接続したい場合などに利用。
    - AWSクライアントVPN: AWSのネットワークやリソースに対して、各クライアントからTLS VPNセッションにより接続する仕組み。
        - 例えばリモートワークのようなケースで、社員が利用する端末にVPNクライアントとなるソフトをインストールすることで、各端末からのVPN接続が可能になる。
    - 仮想プライベートゲートウェイ: VPCの出入り口としてオンプレミス環境とAWS環境を繋ぐ
- Amazon Inspector: EC2インスタンスの脆弱性を評価および検出するサービス。Amazon InspectorエージェントをEC2インスタンスにインストールすることでEC2の評価が可能。
    
- AWS Security Hub: AWSアカウントにおけるセキュリティの状態と、セキュリティのベストプラクティスに準拠しているかどうかを包括的に把握する機能を提供。

## ネットワークとコンテンツ配信

- サブネット作成時に指定したIPアドレス範囲の内、最初の4つ、最後の1つのアドレスはAWSに予約されているため、使用できない。
    - 例)サブネット10.0.0.0/24の時以下は使用禁止
        - 10.0.0.0/32
        - 10.0.0.1/32
        - 10.0.0.2/32
        - 10.0.0.3/32
        - 10.0.0.255/32
- VPC内に複数のAZを含むことができる。
- サブネットはAZ単位で作成する必要がある。
- マルチAZ構成: 同じ役割を持ったサブネットを複数のAZに配置し、EC2などを各AZに冗長的に配置することで、AZ障害を考慮した耐久性の高い設計にする。
    - 例)
        - AZ-A
            - public-subnet-a
            - private subnet-a
        - AZ-B
            - public-subnet-b
            - private subnet-b

- ルートテーブル:
    - メインルートテーブル: VPCに自動的に割り当てられるデフォルトのルートテーブル。
    - サブネットルートテーブル: サブネットに関連づけられたルートテーブル
    - ゲートウェイルートテーブル: インターネットゲートウェイまたは仮想プライベートゲートウェイに関連づけられたルートテーブル。
    - サブネット1つ1つにそれぞれルートテーブルを作成するのではなく、サブネット用途ごとにルートテーブルを1つ作成してその同じ用途のサブネットを関連づけることが一般的。

- VPCエンドポイント: 特殊なAWSのゲートウェイを経由してプライベートIPでの通信で接続する方法。
    - インターフェースエンドポイント: VPC内部にENI(Elasitc Network Interface)が立ち上がり、そのENIと対象AWSサービスのエンドポイントをAWS PrivateLinkと呼ばれるものでリンクします。
    - ゲートウェイエンドポイント: 接続元のサブネットに紐づいているルートテーブルにエンドポイント向けのルートを追加することでS3とDynamoDBの場合のみVPCエンドポイントを経由してローカル通信で接続することが可能。
- VPCピアリング: 2つのVPC間でプライベートな通信を行うための機能。同一AWSアカウントや別AWSアカウントも可能。
    - 互いのVPCのプライベートIPアドレスをそのまま利用する為、重複しているIPアドレス範囲を持つVPC同士ではVPCピアリング設定できない。

- AWS Direct Connect: VPCとオンプレミス環境をAWSの専用線で接続できるサービス。
- AWS VPN: インターネットを介してVPCとオンプレミス環境間に安全な接続経路を構成する。

- AWS WAF: 通信の内容を確認し、ルールに基づいて許可/拒否を行う。SQLインジェクション、クロスサイトスクリプティングなどの攻撃に対するルールがある。
- AWS Shield: DDoS攻撃からシステムを保護することができるサービス。

- Route53: ドメイン管理と権威DNS機能を持ったDNSのマネージドサービス。DNSサービスが53番ポートを利用することからRoute53。
    - 権威DNS: ドメイン名とIPアドレスの変換情報を保持しているDNSのこと。
    - ドメイン管理: 新規ドメインの取得や更新などの手続きができる。
    - ホストゾーン: ドメイン名ごとにまとめて管理可能なレコードのグループ。ホストゾーン内の全てのDNSレコードはホストゾーンのドメイン名を持っている。
        - 例) example.com
            - www.example.com
            - web.example.com
        - publicホストゾーン: インターネット上に公開されたDNSにメインレコードを管理
        - privateホストゾーン: VPC内に閉じたプライベートネットワーク内のドメインのレコードを管理。
        - Aレコード: ドメイン名とIPアドレスの関連づけを定義するレコード
        - CNAMEレコード: 正規ドメイン名に対する別名を定義するレコード
        - エイリアスレコード: Route53固有のDNS拡張機能で、ドメイン名とAWSリソースがデフォルトで持っているDNS名の関連付けを定義することができるレコード。
    - Zone Apex: example.comなどのドメイン名自体。
    - サブドメイン: wwwなどを付与した。
- Amazon CloudFront: 静的データおよぼ動的データを高速に配信するためのCDN(Content Delivery Network)です。
    - オリジンサーバー: コンテンツを格納しているサーバー
    - ユーザーとオリジンサーバーの間に位置し、転送すべきコンテンツをCloudFrontがキャッシュをする。キャッシュのデータをレスポンスすることで高速配信する。
    - S3 Origin Access Identity(OAI): CloudFrontに特別なユーザーを設定し、オリジンサーバーであるS3のBucket PolicyにOAIのみ読み取り可能という設定を行う。

- セキュリティグループ:
    - 適用単位: サブネット単位(EC2, RDSごとに適用される)
    - 制御する種類: 許可のみ
    - 戻りの通信の取り扱い: ステートフル(戻りの通信に対しては設計が不要となる)
    - 制御内容の指定方法: プロトコル、PORT,CIDR, セキュリティグループ
- ネットワークACL:
    - 適用単位: インスタンス単位(サブネット内の全AWSサービスに適用)
    - 制御する種類: 許可/拒否
    - 戻りの通信の取り扱い: ステートレス(戻りの通信に対しても設計が必要)
    - 制御内容の指定方法: PORT,CIDR

- VPCフローログ:
    - S3またはCloudWatchに保存
    - ネットワークインターフェースに出入りするトラフィック
    - セキュリティグループとネットワークACLがトラフィックに対して行った許可、ブロックなどのアクション
    - VPC内に到達しているトラフィック
- ELBのアクセスログ:
    - S3に保存可能
    - リクエスト元のユーザーの接続元IPアドレス
    - レスポンスのHTTPステータスコード
    - ターゲットの応答からのHTTPステータスコード
    - ロードバランサーが実行したクション
    -　いつどのパスにどういったアクセスがあったか

- 一般的にWell Known Port(HTTPS: 443など)のリクエストに対するレスポンスには、エフェメラルポート(1024~65535)が使用される。

## コストと最適化

- EC2:
    - M5.large
        - M: インスタンスファミリー
        - 5: 世代
        - large: インスタンスサイズ
- インスタンスファミリーの分類:
    - 汎用：用途の幅が広い、CPU・メモリのバランスが取れている。A, T, M。
    - コンピューティング最適化: メモリに比べてCPUの性能比率が高めに設定されている。C。
    - メモリ最適化: CPUに比べてメモリの搭載が高めに設定されている。R,X。
    - 高速コンピューティング: GPUやFPGAが搭載されている。P,G,F。画像処理が得意なPタイプ。機械学習が得意なGタイプ。
    - ストレージ最適化: ストレージ処理に特化した性能設定がされている。I,D,H。
- EBS最適化オプション: EBS専用のネットワークを用意するオプション。

- EC2の主なメトリクス:
    - CPU使用率: CPUUtilization
    - ネットワーク使用率: NetworkIn(受信Bytes数), NetworkOut
    - ディスクパフォーマンス: DiskReadOps, DiskWriteOps
    - ディスクの読み書き量: DiskReadBytes, DiskWriteBytes
    - メモリの使用率、ディスクスワップの使用率: CloudWatchエージェントを導入する。

- EBSボリュームの種類:
    - SSDタイプ: ランダムアクセスに強く、秒間の読み込み回数の性能を示すIOPSが高い特徴。
    - HDDタイプ: データの並んだ順に読み込むシーケンシャルアクセスに強く、コスト面での優位性もある。
    - 種類:
        - 汎用SSDボリューム: 料金とパフォーマンスのバランスが良い標準的ボリューム。
        - Provisioned IOPS SSD: データベースなど低レイテンシー・高IOPSが必要なユースケース向け。
        - スループット最適化HDD: サイズの大きなデータ向け、細かいデータの連続読み込みには向かない。
        - Cold HDD: アクセス頻度が低いデータ向け。低コスト。

- EC2のクラスタープレイスメントグループ:
    - クラスタ: 同一のAZに配置。拡張ネットワーキングとの併用が望ましい。インスタンス間で低レイテンシー、高スループットなネットワーク性能。
    - パーティション: 起動するインスタンスのホスト・ラックを分散。ハードウェア障害の頻度を低減。ワークロードの相関障害の軽減など。
    - スプレッド: 独自のネットワークおよび電源がある異なるラックにインスタンスを配置。ハードウェア障害の頻度を低減。各EC2インスタンスを個別に独立したハードウェアに配置する必要がある場合など。
- Amazon S3 Transfer Acceleration: 日本から海外リージョンなど、遠隔地のS3に大量のデータを定期的に送信する要件がある場合に、CloudFrontの最寄りのエッジポイントを経由して転送するオプションサービス。

## AWSのベストプラクティスに沿った設計と運用

- 運用上の優秀性:
    - 運用の自動化を支援するCloudFormationなどを活用すること
    - 障害に備えてログ・メトリクスを収集・監視すること
    - システムリリースの品質を保証すること
- セキュリティ:
    - アイデンティティ管理とアクセス管理
    - 伝送中および保管中のデータの暗号化
    - 全レイヤーでの多層防御
    - セキュリティインシデント対応
- 信頼性:
    - 復旧手順のテストしておくこと
    - 障害からの自動復旧
    - スケーラブルなシステム
    - キャパシティ推測を不要に
    - 変更管理の自動化
    - バックアップと復元
- パフォーマンス効率:
    - 適切なリソースの選択
    - リソースの確認とモニタリング
    - トレードオフの判断
- コスト最適化:
    - リソースの需給の一致
    - インスタンス購入方法によるコスト削減
    - アーカイブストレージの活用
    - コストの把握
- サステナビリティ
    - エネルギー消費の削減

## AWS SOA模擬試験

- AWS Organizations:
    - 一括請求機能: メンバーアカウントの請求管理のみを管理アカウントに統合。
    - 全ての機能: メンバーアカウントの請求管理以外のAWSリソースの権限管理なども管理アカウントに統合。

- CloudWatch Logsにログを送信するためには:
    - CloudWatch LogsのAPIを使用する権限
    - VPCエンドポイントまたはインターネット経由でCloudWatch Logsエンドポイントへの通信が必要。

- スポットフリート: スポットインスタンスをまとめて購入および管理するオプション。

- デフォルトのAWS管理CMKで暗号化されたAMIを別アカウントに共有する場合の注意点:
    - デフォルトのAWS管理CMKで暗号化されたAMIは別アカウントに共有できない為、共有先アカウントの権限を付与したカスタマー管理CMKを指定して元のAMIをコピーすることで再暗号化したAMIを作成してから共有する。
- Amazon EC2インスタンスを別のアカウントの別のリージョンに移行する方法:
    - 別アカウントへのAMI共有: 別のAWSアカウントのアカウント番号を指定してAMIへのアクセス権限を付与して共有する。
    - 別リージョンへのAMIコピー: 同じAWSアカウントで送信先リージョンを指定してAMIをコピーする。
    - ポイントは同じリージョン同士でないとアカウント間の共有はできないということ。

- AWS SSO: アクセス権限セットを使用して管理アカウントからユーザーごとのアクセス権限を一元管理する。IDストア、既存のAWS Active Directory、既存の外部プロバイダーから接続先のIDプロバイダーを通して、IAMロールにAssumeする。
    - IDストア: ユーザーやグループの格納場所
    - アクセス権限セット: IAMロールのポリシーを定義。
    - ![Screenshot 2023-02-01 at 7 55 02](https://user-images.githubusercontent.com/61643054/215902469-a1e9cc7e-7ef3-4a52-a048-93adc282e756.png)

- タグ付けの自動化: 
    - AWS Configでタグ付けの有無を検知し、AWS Systems Manager Automationと組み合わせて自動修復できる。
    - AWS Service CatalogでTag Optionライブラリを使用することでプロビジョニングされたプロダクトにダグ付けできる。

- ALBの加重ターゲットグループ: ターゲットグループに対するトラフィックの重みを変える。

- Amazon Elastic Cache :
    - ElastiCacheでは最小の構成単位を「ノード」と呼びます。EC2で言うところのインスタンスに相当するものです。このノードを組み合わせた集合体をクラスターと呼びます。ノードに直接接続してしまうと、もしそのノードに問題が発生した場合には新しいノードのアドレス（エンドポイント）をアプリケーション側で書き換えなくてはなりませんし、サービスの成長と共に負荷が上がってくるとノードの台数を増やして負荷やメモリ（キャッシュ）を分散したりといった要件も出てきます。クラスター構成を組んでおいて、常にアプリケーションはエンドポイントを見ておくようにすればノードの増減によってアプリケーションに変更を行う必要がありません。よって、運用を行う上でこのクラスター機能という観点は非常に大事になってくるのです。
    - 　for Memcached:
        - マルチスレッド動作
        - Memcachedのクラスターは単純にノードを追加したり減らしたりして負荷を分散することができます（水平スケーリング、スケールアウト/イン）。
    - for Redis:
        - マルチAZ
        - シングルスレッド動作
        - クラスターモードが無効なスケーリング:
            - ノードタイプをサイズの大きいものに変更する垂直スケーリング
            - リードレプリカの追加
        - クラスターモードがモードが有効なスケーリング:
            - シャードを追加する水平スケーリングが可能。
    - シャード：プライマリと呼ばれるノードからレプリカのノードに対してデータをレプリケーションするグループの名前。

- バージョニングが有効になっているS3 Bucketでオブジェクトを削除した後、オブジェクトを取得する方法:
    - 削除マーカーが付与されたオブジェクトは、バージョンのリストに残っているので、削除マーカーを削除することで復旧できる。
    - 以前のバージョンのオブジェクトをリスト表示してダウンロードすることも可能。

- オンプレミスにあるwebサーバーへの攻撃をAWSサービスを活用して軽減する方法。 
    - オンプレミス webサーバーをオリジンに指定できるCloudFrontを使用し、AWS WAFを適用することでオンプレミスへの攻撃を軽減する。

- RDSのパラメータグループ: 転送データ暗号化で使用するTLSなどのセキュリティプロトコルをはじめDB設定に重要なパラメータを管理している。
- NLB: 自動割り当ての静的IPアドレスまたはElastic IPアドレスを割り当てることができる。

- AWS Organizations内のメンバーアカウントのCloudTrail証跡ログを管理アカウントで一元管理する手段:
    - すべての機能を有効化した上で管理アカウントで組織の証跡を作成することでS3 bucketにCloudTrail証跡が残る。

- AWS Direct Connect Gateway: AWS Direct Connectで作成したプライベート仮想インターフェイスを接続することで、複数リージョンのVPCに接続することができる。

- IAMポリシー:
    - Sid: ステートメントIDでポリシー内で一意となる任意の文字列を追加する。
    - 「bucke_name/*」ではバケット配下のフォルダおよびオブジェクトが対象。
    - ListBucketオプションで指定する場合は「bucket_name」のみとなる。

- オンプレミスのディレクトリサービスと連携して、AWSマネジメントコンソールへのアクセス権を付与するパターン
    - AD ConnectorまたはAWS Managed Microsoft ADを管理するAWS Directory ServiceでAWSマネジメントコンソールアクセスを有効にする。
    - AD ConnectorまたはAWS Managed Microsoft ADと接続するAWS SSOでAWSマネジメントコンソールアクセスを設定する。
    - OpenID ConnectまたはSAML2.0を提供するIdPとのIDフェデレーションをIAMのIDプロバイダー・IAMロールで設定する。
    - IAMのIDプロバイダー以外の外部サービス(IdPなどを介して連携したAmazon Cognito IDプールやカスタムIDブローカーなど)で認証し、認証後に発行するIAM STSでAWSマネジメントコンソールへのフェデレーションログイン用URLを発行する。

- 1Gbpsの回線で1日に移行できるデータ量が約10TB
- AWS Snowcone: 使用可能な8TBのHDDと14TBのSSDストレージを持つ。
- AWS Snowball Edge Storage Optimized: 使用可能な80TBのHDDと1TBのSSDストレージを持つ。
- AWS Snowball Edge Compute Optimized: 使用可能な42TBのHDDと7.68TBのSSDストレージを持つ。
- AWS Snowmobile: 使用可能な100PBのHDDストレージを持つ。
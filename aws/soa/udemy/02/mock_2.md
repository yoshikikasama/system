# udemy SOA模擬試験 2

## 1.
- AWS CloudTrail: AWS アカウントのガバナンス、コンプライアンス、運用監査、リスク監査を行うためのサービスです。CloudTrail を使用すると、AWS インフラストラクチャ全体でアカウントアクティビティをログに記録し、継続的に監視し、保持できます。

## 2.

- 特定のIPアドレスをブロックする拒否設定
    - AWS WAF
    - ネットワークACL
    
- Route 53 Resolver DNS Firewall:VPC に関連付けるルールグループにドメイン名のフィルタリングルールを定義します。このルールにおいて許可またはブロックするドメイン名のリストを指定できます。

## 3.
- 現在のリージョンで利用しているPEMキーを共有したい場合は、PEMキーを別リージョンにインポートすることができます。

## 5.
- AWS Nitro Enclaves: 個人識別情報や、ヘルスケア、財務のデータなど、機密性の高いデータをより安全に処理できるように信頼性の高い分離された堅牢なデータ処理環境を提供するEC2の機能。許可されたコードのみが実行できるようになっており
証明はEnclavesで実行されていることを確認出来ます。EC2 インスタンス上でACMが発行したSSL/TLS 証明書を使用できる。
- CloudFront:
    - ビューワー: コンテンツにアクセスするもの。通常はwebブラウザ。
    - ビューアとCloudFront間のHTTPS: Comodo、DigiCert、Symantec、またはその他のサードパーティプロバイダーなどの信頼できる認証局（CA）によって発行された証明書を使用できます。また、AWS Certificate Manager（ACM）が提供する証明書も使用できます。
    - CloudFrontとカスタムオリジン間のHTTPS: オリジンがELB ロードバランサー以外のオリジンの場合、信頼されたサードパーティー認証機関 (CA) (Comodo、DigiCert、Symantec など) によって署名された証明書を使用する必要があります。そのため、これまではEC2インスタンスをオリジンとする場合はサードパーティーの証明書を利用する必要がありました。しかしながら、AWS Nitro Enclaves を使うことで Amazon EC2 インスタンスで実行されているウェブアプリケーションおよびサーバーに対して、ACMで発行したSSL/TLS 証明書を使用できるようにすることができます。

## 6.
- Amazon EBS: EC2インスタンスにアタッチして使われるAWSのストレージサービス。インスタンスの停止と終了後もデータを保持し、EBS スナップショットで簡単にバックアップでき、1 つのインスタンスから削除して別のインスタンスに再アタッチでき、ボリューム全体の暗号化をサポートします。
- Amazon EBS スナップショット: EBS ボリュームのポイントインタイムスナップショットを作成して、新規ボリュームやデータバックアップ用のベースラインとして使用することができます。
- インスタンスストアボリューム: 格納されるデータは、インスタンスの停止、終了、またはハードウェア障害によって永続化されないため、インスタンスストアは一時ストレージに最適です。
    - バックアップを取得するには新しい EBS ボリュームを作成して、インスタンスストアボリュームのデータを EBS ボリュームにコピーすることが必要となります。

## 7.
- RPO(Recovery Point Objective): 復旧時の最新状態。5分間隔でバックアップを取っていれば失われるデータは5分に抑えられるが、1日単位のバックアップだと24時間分失う可能性がある。
- DR(Disaster Recovery): 災害時などにおけるシステムの復旧について考えること
- RDSの自動バックアップ: Amazon S3にスナップショットをとることで、バックアップを迅速に復元し、トランザクションログは自動的に5分ごとにS3に保存されるため、アプリケーションをRPO10分内で復元することが可能です。RDSの自動バックアップは、優先されるバックアップウィンドウ中に毎日行われます。これは日次で指定した時間帯に実施されます。
- RDSのトランザクションログ: 設定はユーザー側で指定できません。基本的に5分ごとに取得する設定がAWS側で実行されています。

## 8.
- MySQL ON EC2 からRDSへの移行: EC２インスタンス上のMySQLからmysqldumpを利用して移行できる。EC２インスタンス上のMySQLはスナップショットが作成できないためです。         

## 10.
- RAID(Redundant Arrays of Inexpensive Disks): 複数のハードディスクを組み合わせることにより、　1台の仮想的なハードディスクとして認識させて冗長性を向上させる技術のこと。
    - RAID0: 複数のハードディスクに同時に分散して読み書きを実行します。これにより、アクセスの高速化を実現します。RAID0は「ストライピング」とも呼ばれています。RAID0では複数のHDDに同じデータが保存されていないことから、このRAID構成のみ冗長性や耐障害性がありません。
    - RAID1: 複数のハードディスクに同じデータを書き込みことでハードディスクの耐障害性を実現します。RAID1は「ミラーリング」とも呼ばれています。RAID1では同じデータを2台以上のディスクに書き込むのでディスク容量の利用効率が50%以下になってしまうデメリットがある。
    - RAID5: データからパリティ（誤り訂正符号）を生成し、3台以上のハードディスクに分散して書き込みします。RAID5は、RAID0のように複数のディスクに分散しているため読み出し性能が優れているだけでなく1台のHDDに障害発生した場合でも、残りのHDDにより継続利用することが可能。
## 12.
- Amazon EC2 G５インスタンス: グラフィックを大量に使用するアプリケーションや機械学習推論を高速化するために設計されています。また、簡単な機械学習モデルから中程度に複雑な機械学習モデルのトレーニングにも使用できます。
- プレイスメントグループ: 複数のインスタンスを論理的にグループ化して、パフォーマンスの向上・耐障害性を高める機能のこと。3つの種類がある。
    - クラスタープレイスメントグループ: パフォーマンスを向上させるためのもの。TCP/IPトラフィックのフロー当たりのスループット上限が高くなって、ネットワークの帯域幅が上がる。これによって、インスタンス間通信を向上できる。
    - パーティションプレイスメントグループ: 耐障害性を高めるもの
    - スプレッドプレイスメントグループ: 耐障害性を高めるもの

## 13.
- AWS Server Migration Connector: 移行元の環境で起動させる移行用のツール。
- AWS Server Migration Service(SMS): AWSが提供している仮想マシン移行サービスです。オンプレミス環境やIBM Cloudのベアメタル上で稼働するVMwareやHyper-V、またはAzure仮想マシンをAmazon EC2へ移行することができます。
- VM Import/Export: 仮想マシン (VM) イメージを既存の仮想化環境から Amazon EC2 にインポートし、それを元の環境にエクスポートすることができます。この方法を使うと、アプリケーションおよびワークロードを Amazon EC2 へ移行したり、VM イメージカタログを Amazon EC2 にコピーしたり、バックアップと災害対策のために VM イメージのリポジトリを作成することができます。
- AWS Database Migration Service(DMS): データベースを短期間で安全に AWS に移行できます。

## 14.
- CloudFrontのデフォルト設定: キャッシュが実行される際はGETリクエストによって実行することが必要です。CloudFrontは他のメソッドを使用したリクエストへの応答をキャッシュしません。POSTリクエストを利用したい場合はオプションで、POST、PUTなどの「アップロードリクエスト」を許可するようにCloudFrontを設定する必要があります。この場合、リクエストはCloudfrontが使用するオリジンに送信されます。
- HEADメソッド: サーバーからheaderのみを取得したい場合にするリクエスト。

## 15.
- AWS Storage Gateway: オンプレミスのソフトウェアアプライアンスをクラウドベースのストレージと接続し、お客様のオンプレミスの IT 環境と AWS のストレージインフラストラクチャとの間にデータセキュリティ機能を備えたシームレスな統合を実現するサービスです。
- iSCSI(Internet Small Computer System Interface): IPネットワークを利用してSAN（Storage Area Network）を構築するプロトコル規格。
- プレイバック攻撃: 毎回同じ認証データを送信する方式の場合には攻撃者は正しく暗号化・ハッシュ化された認証データを送信することができてしまうこと。
- Challenge Handshake Authentication Protocol(CHAP): 同じユーザーであってもセッションの度に異なるデータがやり取りされるので、盗聴が困難であり、安全性の高いユーザー認証が実現できる。
- iSCSI イニシエータ: iSCSI ターゲットとしてボリュームに接続することができます。

## 16.
- S3 Bucketを利用するアプリのエラーコード 5xx: S3 バケットが許容できるリクエスト率を超過している際に発生します。
    - リクエストするアプリケーションの再試行メカニズムを有効にする
    - リクエスト率を徐々に増やすようにアプリケーションを設定する
    - 複数のプレフィックスにオブジェクトを分散する 
    - 500 件の内部エラー応答数を監視する。
    - 別の方法を使用してデータをコピーする。

## 18.
- AWS Storage Gateway: S3とオンプレミスストレージとを容易に接続することが可能です。
    - キャッシュ型ボリュームゲートウェイ:プライマリーはS3。頻繁にアクセスするデータはオンプレミスにキャッシュ保持。
    - 保管型ボリュームゲートウェイ: プライマリーはオンプレミスストレージ。データをS3にバックアップ。
- AWS Direct Connect: インターネット回線を利用しないAWSが提供する専用接続サービスであり、ユーザーのネットワーク環境からAWSまでインターネットを経由せずプライベートな接続を確立することができます。
- VPN(Virtual Private Network)接続: インターネット回線上に仮想の専用線を設定して、特定の人だけが利用できるようにした専用ネットワークのことです。お客さま拠点からの接続で、AWS上で運用する社内システムとの接続方法を検討する際には、拠点間VPN接続を選択するのが一般的です。

## 19.
- Opsworks: Chef や Puppet のマネージド型インスタンスを利用できるようになる構成管理サービス。
- Elastic Beanstalk: Java、.NET、PHP、Node.js、Python、Ruby、Go、Docker で開発されたウェブアプリケーションとウェブサービスをデプロイし、自動的にデプロイメントの詳細 (容量のプロビジョニング、負荷分散、Auto Scaling、アプリケーションのヘルスモニタリングなど) を処理します。これは主にWEBアプリケーションの展開と管理を自動化する際に用いられるサービスであり、WEBアプリケーションがホストされるインフラ管理にも利用できますが、インフラ環境そのものを自動で展開したり、管理するためにはOpsWorksやCloudFormationを利用します。 
- CloudFormation: クラウド環境内のすべてのインフラストラクチャリソースを記述してプロビジョニングするための共通言語を提供します。サーバーのパッチ適用、アップデート、バックアップの自動化を達成するといった管理作業を実現することはできません。 

## 20.
- 認証情報レポート: IAMユーザーが最後にAWSサービスにアクセスした⽇付と時刻を表⽰する機能を提供してくれます。アカウントのすべてのユーザーと、ユーザーの各種認証情報 (パスワード、アクセスキー、MFA デバイスなど) のステータスが示された認証情報レポートを生成します。 AMユーザーのパスワードが最後に設定された日付や、利用日時や利用内容などの詳細なIAM認証にかかる記録を確認したい場合は、認証情報レポートを確認します。
- Access AdvisorのService Last Accessed Data: IAMのエンティティ（ユーザー、グループもしくはロール）が最後にAWSサービスにアクセスをした時間を示します。

## 21.
- AWS Config: AWSアカウントにあるAWSリソースの設定を評価、監査、審査できるサービスのことです。
    - AWS リソースの設定が最適な設定であるかどうかをルールに基づいて評価する。
    - AWS アカウントに関連付けられているサポート対象リソースの現在の設定のスナップショットを取得する。
    - 1つ以上のリソースの設定履歴を取得する。
    - リソースが作成、変更、または削除されるたびに通知を受け取る。

## 22.
- CloudWatchの機能:
  -   ![Screenshot 2022-11-20 at 17 55 29](https://user-images.githubusercontent.com/61643054/202893897-1385275f-3dc7-4674-a455-b7d7e37b09c1.png)
  -   ![Screenshot 2022-11-20 at 17 56 17](https://user-images.githubusercontent.com/61643054/202893904-0972cbf6-73c9-43f8-a6b2-1b321c245b8a.png)

- CloudWatchによるEC2のモニタリングタイプ:
    - CPUなどは見れるが、メモリやディスク容量などは見れない。
    - 基本モニタリング:
        - 費用: 無料
        - データの取得間隔: 5分
    - 詳細モニタリング:
        - 費用: 有料
        - データの取得間隔: 1分
- CloudWatch　エージェント: もっと色々なメトリクスで、またはデータ間隔を短くして見たい。


## 23.
- CloudTrail: AWSマネジメントコンソールでの操作とAWS APIコールを記録することができる。これにより、ユーザーおよびリソースのAPIアクティビティを把握することができる。
    - ![Screenshot 2022-11-20 at 17 56 37](https://user-images.githubusercontent.com/61643054/202893911-17406f74-8160-4c6e-b5cd-58ce5f259bac.png)

## 25.
- VPCフローログ: ![Screenshot 2022-11-20 at 19 50 39](https://user-images.githubusercontent.com/61643054/202900343-17d3147c-e1fe-4b44-928e-a099a7fc4fb6.png)

## 27.
- IDフェデレーション: 外部の認証サーバーを利用してログインする技術。SSO(Single Sign On)を実現する方式の一つ。
- SAML: アサーションを利用して認証結果を送受信する。今までのスタンダード。
    アサーション: 認証、属性、権限の認可をXMLで表したもの。
- OpenID Connect(OIDC): JSON形式のIDトークンで認証結果を送受信する仕様。次世代のスタンダード。
- ウェブIDフェデレーション: ウェブベースの ID プロバイダーを（OpenID Connect (OIDC) 互換の IdP）経由したフェデレーション。AWSリソースによって構築されたモバイルアプリケーション上で利用して、AWSリソースにアクセスする認証
方式です。これは一時的なアクセスを可能にするSTSにおいて使用されています。
    - 外部IDプロバイダー(Amazon, Facebook, Googleなど)を使用してサインインすることができる。
    - 認証トークンを受け取り、そのトークンをAWSアカウントのリソースを使用するためのアクセス許可を持つIAMロールにマッピングし、AWSの一時的セキュリティ認証情報に変換することができる。
- SAMLベースのフェデレーション:　SAML 2.0 と互換性のあるエンタープライズ ID プロバイダーを経由するフェデレーション。外部のLDAP等のIDプロバイダーを利用するタイプ。
- IAM:
    - IAMは、OpenID ConnectベースのウェブIDフェデレーションとSAML2.0ベースのフェデレーションの２パターンをサポート
    - ユーザーIDをAWSの外で管理している場合、AWSアカウントにIAMユーザーを作成する代わりに、IAM IDプロバイダー(IdP)を利用
    - IdP を使用するには、IAM ID プロバイダーエンティティを作成して、AWS アカウントと IdP の間に信頼関係を確立します。
    - IAM は、OpenID Connect または SAML 2.0 と互換性のある IdP をサポート
- [参考](https://qiita.com/fkooo/items/a6d71407b2bed42332cc)

## 28.

- Billing and Cost Management: 利用料金の概要、今月の初めから今日まで最も利用料の多いサービス。 
- AWS Pricing Calculator: 見積もりツール。
- AWS Organizations: 一括請求機能。

## 30.
- S3オブジェクトの保存先: 同じリージョンの複数の施設にデータを冗長に保存する。

## 31.
- EC2インスタンス立ち上げた際のボリュームステータス:
    - ![Screenshot 2022-11-21 at 7 38 13](https://user-images.githubusercontent.com/61643054/202930220-aa18cfa4-8f15-4f31-bdbd-5819b57f97bc.png)

## 32.
- CloudTrailのログファイル: デフォルトでSSE-S3によって暗号化されている。

## 33.
- パワーユーザー: 管理者権限以外の全てのAWSリソースに対する権限を有したユーザー。

## 34.
- ![Screenshot 2022-11-21 at 8 01 15](https://user-images.githubusercontent.com/61643054/202931330-e8ef58b8-720d-40e7-bac7-f3bd5ed3c003.png)
- 基本的にはAWS Shield Standard/AWS Shied Advanced/AWS WAFの３対策
    - AWS Shield Standard：Route 53またはCloudFrontで使用する。無料。L3/L4の防御。
    - AWS Shield Advanced：Route 53、CloudFront、ELB、EC2、AWS Global Acceleratorで使用する。有料。L7、ネットワークACLを使った防御。
    - AWS WAF：CloudFront、ALB、APIGatewayで使用。有料。IPアドレス、HTTP、クエリ文字列でのアクセス制限に加え、SQLインジェクション、クロスサイトスクリプティングにも有効。
- Amazon Intrusion Detection System(IDS): 侵入検知システム。悪意のあるアクティビティ、ポリシー違反、またはシステムの侵入または侵害を試みるユーザーからのネットワーク & システム攻撃を検出したときにアラートを送信します。
- Amazon Intrusion Prevention System(IPS): ネットワークトラフィックを監視および分析し、悪意のあるパターンや潜在的に有害なパケットを検出し、脆弱性の悪用を防止するアプライアンスです。SQLインジェクション、クロスサイトスクリプティング（XSS）、DDoS攻撃への対応としてはWAFによる対応が優先されます。

## 35.
- プロキシサーバー: クライアントマシンからの要求をフィルタリングするためのロジックに利用。

## 36.
- AWSのWell Architected Framworkの設計原則の一つである信頼性: インフラストラクチャまたはサービスの中断から回復し、需要に対してコンピューティングリソースを動的にスケールして、システム中断を緩和する対応が含まれます。これは、リソースを水平方向にスケーリングするために小さなリソース単位に分割することで、障害の影響を最小限に抑えることができます。水平スケーリングは、サーバーで複数のインスタンスを同時に実行できる場合に使用されます。通常、1台のサーバーから2台のサーバーなどに数を増やします。AWSの場合はEC２インスタンスの数を増やして対応します。水平スケーリングはAuto Scalingと複数のアベイラビリティーゾーンの利用を組み合わせることで実現することができます。さらにRoute53を利用したフェールオーバー構成を取ることで、一時的なネットワークの問題などのサービスの中断発生要因となりうる事象に対して、予防措置をとることでシステム停止の可能性を軽減することができます。
- AWS Auto Scaling: 需要に応じてインスタンスを自動的に増減させるサービス機能。
- Auto Scaling グループ: EC2インスタンスに対する論理的なグループをリージョン単位で設定する。インスタンスに異常が発生した場合でも、一定数のインスタンスを維持する。
- Route53のALIASレコード: DNS機能に対するRoute 53固有の拡張機能を提供する。 IPアドレスまたはドメイン名の代わりに、ALIASレコードにはCloudFront、Elastic Beanstalk環境、ELB 、静的Webサイトとして設定されているAmazon S3バケットへのポインタ、または 同じホストゾーン内の別のRoute 53レコードを設定することができる。
    - ![Screen Shot 2022-08-22 at 22 16 14](https://user-images.githubusercontent.com/61643054/185930340-4e3baa6a-e680-40ca-8011-f5eabe048c92.png)
- レコードの種類: 
    - Aレコード: IPv4アドレスをドメインに関連付けるために利用。
    - NSレコード: あるゾーンに対する権威サーバーを指定するためのレコード。
    - CNAMEレコード: ドメインに対して別のドメインを設定する際に利用。
    - SOA: ドメインのDNSサーバー/ドメイン管理者のメールアドレス/シリアル番号などを保持してゾーン転送時に情報が更新されているかの判断に利用する。
- Route53のルーティング:
    - シンプルルーティング: ドメインで特定の機能を実行する単一のリソースがある場合に使用します。トラフィックを複数インスタンスなどに分散してルーティングして、ランダムに制御されます。
    - ![Screen Shot 2022-08-23 at 7 12 02](https://user-images.githubusercontent.com/61643054/186027745-d5503306-7c9f-4ef9-b621-7fb66ee968b0.png)
    - 加重ルーティング: 指定した比率で複数のリソースにトラフィックをルーティングする場合に使用します。これは単一のドメイン名 (example.com) またはサブドメイン名 (acme.example.com) に複数のリソースを関連付け、各リソースにルーティングされるトラフィックの数を選択できます。このルーティングは負荷分散や新しいバージョンのソフトウェアのテストなど、さまざまな目的に有用です。
    - ![Screen Shot 2022-08-23 at 7 12 26](https://user-images.githubusercontent.com/61643054/186027858-600a72c3-a876-4eed-b1b8-9d14c575eb76.png)
    - レイテンシールーティング（遅延ルーティング）: 複数の AWSリージョンでアプリケーションがホストされている場合、ネットワークレイテンシーが最も低いAWS リージョンに基づいてリクエストを処理することで、ユーザーのパフォーマンスを向上させる。
    - フェイルオーバールーティング: フェイルオーバーによって異常なリソースへのルーティングを停止して、正常なリソースに対してトラフィックをルーティングすること。
    - 位置情報ルーティング: ユーザーのIPアドレスにより位置情報を特定して、地域ごとに異なるレコードを返すルーティング方式。ネットワーク構成に依存しない精度の高いレコードの返答の区分けが可能となる。
        - 日本の面積内は、日本。それ以外はアメリカ。
    - 地理的近接性ルーティング: ユーザーとAWSリソースの場所に基づいて地理的近接性ルールを作成して、トラフィックをルーティングする方式。
        - 日本に近いアジアは日本、北米地域はアメリカ。
    - フェイルオーバー: 稼働中のシステムで問題が生じてシステムやサーバーが停止してしまった際に、自動的に待機システムに切り替える仕組み。

- Route53のフェイルオーバールーティング: ロードエラーが発生した場合にセカンダリーサーバーへのDNSフェイルオーバーを実施できます。
- Route53: ユーザのリクエストをEC2やELB、S3などの各サービスへ接続をおこないます。接続されているかの確認が出来ればよいため、ヘルスチェックもELBほど細かく設定する必要がないと思われます。しかし、Route53はフェイルオーバー処理が可能なため、接続が出来なくなったら別のEC2やS3などに接続されるということが可能。
- CloudFrontディストリビューション: フェールオーバーオプションが提供されています。高可用性が必要なシナリオでは、オリジンフェイルオーバーを使用するように CloudFront を設定できます。開始するには、プライマリとセカンダリの 2 つのオリジンを持つオリジングループを作成します。プライマリオリジンが使用できない場合、または障害を示す特定の HTTP レスポンスステータスコードを返す場合、CloudFront は自動的にセカンダリオリジンに切り替わります。
- Route53: DNS (ドメインネームサービス)のフルマネージドサービスです。
    - ドメイン登録機能
    - DNS ルーティング機能: ブラウザに対して、アクセスしたドメインに紐づく情報の受け渡しを行い、ウェブサイトの表示またはウェブアプリケーションに接続するための支援を行います。
    - DNS ヘルスチェック機能: ウェブサーバーなどのリソースの正常性を監視することができます。
    - パブリックホストゾーン: インターネット上でどのようにルーティングするかを指定する DNS レコードが含まれます。
    - プライベートホストゾーン: Amazon VPC 内でどのようにルーティングするかを指定する DNS レコードが含まれます。セキュリティ要件が高く、インターネットの外向けへの制限があるビジネスで、Amazon VPC 内部ネットワーク内で DNS ルーティングを行いたいユースケースもあります。
- A(Address)レコード: 「このドメイン名はこのIPアドレスだよ」(例) apple.com. A 17.149.160.49
- CNAMEレコード: 「このドメイン名とこのドメイン名は同じだよ」と教えてあげる書き方。(例) www.apple.com. CNAME apple.com.
- エイリアス(別名)レコード: 選択した AWS リソース (CloudFront ディストリビューションや Amazon S3 バケットなど) にトラフィックをルーティングできます。また、エイリアスレコードにより、ホストゾーン内のあるレコードから別のレコードにトラフィックをルーティングできます。Aレコードの機能。
    - CNAMEレコードであれば、以下の振る舞いとなります。
        - mydomain.com → myelb1-xxxxxxxxxx.ap-northeast-1.elb.amazonaws.com → IPアドレスの 3ステップで名前解決
    - エイリアスレコードであれば、Aレコードのため、以下の振る舞いとなります。ALIASレコードを利用した場合は、example1.*から直接...183を得ますので、DNSクエリが1回で済みます。CNAMEレコードと比較して50%削減です。
        - mydomain.com → IPアドレスの 2ステップで名前解決
- ドメイン: ○○○.com
- サブドメイン: □□□.○○○.comのように独自ドメインの先頭に文字列を挿入してドメインを区分けするというもので、1つのドメインを用途別に分割したい時に使用します。
- ホストゾーン: ドメインおよびサブドメインのトラフィックのルーティングする方法についての情報を保持するコンテナ。
- フェイルオーバー: 稼働中のシステムで問題が生じてシステムやサーバーが停止してしまった際に、自動的に待機システムに切り替える仕組み。あくまでリージョン単位。
    - - ![Screen Shot 2022-08-26 at 18 19 29](https://user-images.githubusercontent.com/61643054/186871975-2655eee8-bdd0-4179-a338-469a1f85c64e.png)
- ELB: 処理負荷を分散するだけで、フェールオーバーはしない。
- ELBを使った冗長化との違い: ELBによる冗長化は複数のEC2インスタンスのうち一部が障害によってダウンしてしまった場合に、生きているEC2インスタンスのみに振り分けるようにする。Route53を使用したフェイルオーバーの場合は、例えばEC2インスタンス上のWEBサービスがダウンしたらS3上の静的ページを表示するなどの用途に使うことができます。

## 37.
- IAMユーザーのデフォルト設定: 権限がない状態。

## 38.
- Amazon CloudWatch アラーム: アクション設定を使用して、EC2インスタンスを自動的に停止、終了、再起動、または回復などのイベントに対して即時的なアラームを作成できます。 これによって異常発生をトリガーにして通知を即時に実施することが可能です。 また、アクションの設定において、インスタンスの再起動アクションを設定することも可能となり、再起動によってインスタンスの障害が回復できる場合に非常に有効な手段となります。

## 39.
- Amazon GuardDuty: 
    - AWS アカウントとワークロードを継続的にモニタリングし、悪意のあるアクティビティや不正なアクティビティから保護します。
    - Amazon EventBridgeにGuardDutyを設定して脅威検出後の通知を設定することが可能。
    - 機械学習を利用した不正検知

## 40.
- Amazon Inspector: EC2とECR上に作成されたワークロードとソフトウェアの脆弱性またはネットワークの問題が検出されると、重大性の順に結果を表示した詳細なリストを作成する。

## 42.
- S3の暗号化方式: 
    - ![Screenshot 2022-11-21 at 23 23 48](https://user-images.githubusercontent.com/61643054/203078858-f22d5cad-410c-4f4b-b7c7-a251d90e772b.png)

## 43.
CloudWatch: アプリケーションエラーに関連するキーワードをCloudWatch上に保存されたログを解析することで確認し、そのキーワードに基づいてカスタムメトリックを作成できる。

## 45.
- AWS Elastic Beanstalk: 自動的にデプロイタスク (バッチ配布の自動化、容量のプロビジョニング、負荷分散、Auto Scaling、アプリケーションのヘルスモニタリングなど) を処理することができるデプロイ用のサービス。Elastic Beanstalkコンソールを運用ダッシュボードとして、環境の状態とアプリケーションの状態を一目で分かるように表示することができる。Docker コンテナのクラスター全体へのコンテナの配置などを自動で設定しつつ、WEBアプリケーションを Docker コンテナからデプロイすることができます。
- OpsWorks: Chef や Puppet のマネージド型インスタンスを利用できるようになる構成管理サービスです。これはインフラ構成の自動化に利用しますが、WEBアプリケーションのデプロイには利用されません。

## 47.
- Amazon Data Lifecycle Manager (Amazon DLM) : Amazon EBS ボリュームのバックアップとなるスナップショットの作成、保持、削除をスケジューリングして、自動化できます。
- AWS DataSync: オンプレミスと Amazon S3またはAmazon EFS間のデータ移動を自動化して加速化する安全なオンラインサービスです。
- AWS Data Pipeline : 指定された間隔でAWS のさまざまなコンピューティングサービスやストレージサービスのほか、オンプレミスのデータソース間で信頼性の高いデータ処理やデータ移動を行うことを支援するウェブサービス。
- AWS Storage Gateway:
    - ボリュームゲートウェイ: スケジュールされたスナップショット機能を有している。これにより、スナップショット取得をスケジューリングして管理することが可能。
        - キャッシュ型ボリューム: 頻繁にアクセスされるデータをローカル環境に保持しながら、S3をプライマリデータストレージとして使用できる。
        - 保管型ボリュームゲートウェイ: プライマリーデータストレージとしてローカルのストレージを使用し、データを非同期にS3にバックアップする。

## 48.
- AWS Artifact: AWS契約関連のドキュメント管理や重要なコンプライアンス関連情報に関する一元管理型のリソース。
- AWS Audit Manager: クラウドサービスからの証拠を監査人にとってわかりやすいレポートに変換するサービス。

## 49.
- AWS Inspector: EC2インスタンス, ECRにAmazon Inspector エージェントをインストールして、ネットワーク到達性や、プラットフォームの脆弱性を診断し、潜在的なセキュリティ上の問題を発見するためのもの。自動的にアプリケーションを評価し、露出、脆弱性、ベストプラクティスからの逸脱がないかどうかを確認できます。

## 50.
- AWS X-Ray: AWS上で構築されたアプリケーションを分析および、デバッグができるサービスです。
    - リクエスト動作の確認 AWS:
        - アプリケーション全体で転送されるユーザーリクエストがトレースされます。アプリケーションを構成する個々のサービスやリソースによって生成されるデータが集計されるため、アプリケーションの実行状況をエンドツーエンドで確認できます。 
    - アプリケーションの問題の検出
        - アプリケーションの実行状況についてのインサイトを収集して、問題の根本原因を調べることができます。X-Ray のトレース機能を使ってリクエストのパスをたどると、パフォーマンスの問題の原因と、問題に関係するアプリケーション内の場所を特定できます。また、X-Ray には注釈機能があり、トレースにメタデータを付加できます。これにより、トレースデータにタグを付けてフィルタリングすることができるため、パターンを発見して、問題を診断できます。 
    - アプリケーションのパフォーマンスの向上
        - AWS X-Ray によりアプリケーションのパフォーマンス上のボトルネックを特定できます。X-Ray のサービスマップにより、アプリケーション内のサービスやリソースの関係をリアルタイムで表示できます。高いレイテンシーが発生している場所を簡単に検出し、サービスのノードとエッジのレイテンシーのディストリビューションを視覚化し、アプリケーションのパフォーマンスに影響を与える特定のサービスやパスをドリルダウンすることができます。 

## 51.
- Redshiftの暗号化:
    - Amazon Redshift クラスターに対してデータベースの暗号化を有効化することで、クラスターとそのスナップショットのデータブロックとシステムメタデータが暗号化され、保管データを保護できます。
    - AWS Key Management Service (AWS KMS) またはハードウェアセキュリティモジュール (HSM) のいずれかを使用して暗号化キーを管理することができます。

## 52.
- 開発環境と本番環境のアクセス制限:
    - どのインスタンスが本番用インスタンスであり、どのインスタンスが開発用インスタンスであるかを定義するタグを追加することで、IAMポリシーを介してアクセス制御する際に、これらのタグに応じてアクセス権限を付与することができる。

## 53.
- AWS Organizations: 複数のAWSアカウントを効率的に管理・統制するためのサービス。
    - 新しい AWS アカウントを作成しリソースを割り当てる
    - AWSアカウントをグループ化して整理
    - AWSアカウントまたはグループに統一されたポリシーを適用
    - すべてのAWSアカウントに単一の支払い方法を利用することで請求を簡素化
    - OU(Organization Unit): 組織単位。組織内にある複数AWSアカウントのグループ。
    - SCP(Service Control Policy): AWSアカウントまたはグループに統一されたポリシーを適用するための機能です。
        - 「SCPとIAMで明示的に許可され」なおかつ「いずれでも明示的に拒否されていない」場合に権限を有していると評価されます。
        - 「ざっくりとした」制限をSCPで実施し、細かい制御をIAMで実施する、というアプローチが適切かと思います。
    - 組織の証跡: OUを作成した場合に、そのOU内の全AWSアカウントの全イベントを記録する証跡を作成できる。
    - 利用可能な機能セット:
        - 全ての機能: 一括請求機能も含む、高度なアカウント管理機能。
        - 一括請求機能: OU内のアカウント管理を一元化する基本的な機能。
    - ![Screenshot 2022-11-23 at 9 33 50](https://user-images.githubusercontent.com/61643054/203450104-8b13678e-2e1a-4ec7-96ff-e481e872cebd.png)
    - ![Screenshot 2022-11-23 at 9 36 24](https://user-images.githubusercontent.com/61643054/203450125-6d282f87-1410-4c32-9d0c-98d34389fbc7.png)
    


## 54.
- IAM Access Analyzer: 
    - IAMポリシーやバケットポリシーなどのポリシーを分析してAWS アカウントの外部からアクセスできるリソースを特定するための解析を実施します。
    - S3の外部アカウントからのアクセス情報を分析して、適切なアクセスが実施されているかを解析してくれます。
- Amazon S3のストレージクラス分析: ストレージアクセスパターンを分析し、適切なデータをいつ適切なストレージクラスに移行すべきかを判断できます。
## 55.
- IAM アクセス許可の境界: 管理ポリシーを使用してアイデンティティベースのポリシーが IAM エンティティに付与できるアクセス許可の上限を設定する高度な機能です。

## 56.
- AWS Config: マルチアカウント、マルチリージョンのデータ集約により、複数のアカウントおよび複数リージョンからの構成情報を単一のアカウントに集約できます。マルチアカウント、マルチリージョンの構成情報を監視することで、中央の管理者が各アカウントのリソース構成においてコンプライアンス違反がないかを監視することができます。リソースの構成情報を集約する、ログではない。

## 57.
- CloudWatch Logs Insights: ログ情報を分析・可視化する。

## 58.
- AWS OrganizationsのアカウントでOUから削除し、独立したい場合：
    -  AWS カスタマーアグリーメントに同意してサポートプランを選択し、必須の連絡先情報を入力および確認して、支払い方法を入力する必要があります。

## 59.
- パーティションプレイスメントグループ: HDFS、HBase、Cassandra などの大規模な分散および複製ワークロードを異なるラック間でデプロイするために使用できます。
    - 耐障害性を高めるために利用する構成。
- H1インスタンス: ビッグデータ解析に特化して設計されています。
- ![Screenshot 2022-11-22 at 22 23 18](https://user-images.githubusercontent.com/61643054/203324948-973a9a1a-0ff6-4e40-84dc-19dda3eb4065.png)
- クラスタープレイスメントグループ:インスタンス間の通信を最適化するために利用する構成

## 60.
- 高速コンピューティング：機械学習モデルを実装できるGPUを利用可能なインスタンスタイプ。ハードウェアアクセラレーター (コプロセッサ) を使用して、浮動小数点計算、グラフィックス処理、データパターン照合などの機能を、CPU で実行中のソフトウェアよりも効率的に実行します。ゲーミング処理やグラフィック処理、機械学習の処理にはこのインスタンスが最適です。
- 汎用インスタンス: バランスの取れたコンピューティング、メモリ、ネットワークのリソースを提供し、多様なワークロードに使用できます。汎用インスタンスは、ウェブサーバーやコードリポジトリなど、インスタンスのリソースを同じ割合で使用するアプリケーションに最適です。
- メモリ最適化インスタンス: メモリ内の大きいデータセットを処理するワークロードに対して高速なパフォーマンスを実現するように設計されています。
- ストレージ最適化インスタンス: ローカルストレージの大規模データセットに対する高いシーケンシャル読み取りおよび書き込みアクセスを必要とするワークロード用に設計されています。ストレージ最適化インスタンスは、数万回の低レイテンシーとランダム I/O オペレーション/秒 (IOPS) をアプリケーションに提供するように最適化されています。

## 62.
- デフォルトは、すべての Amazon S3 リソースはプライベートであるため、リソースを作成した AWS アカウントだけがアクセスできます。

## 64.
- ssh : 22番Port
- http: 80番Port

## 65.
- CloudWatchエージェント: 仮想サーバーやオンプレミス環境にあるサーバーからメトリクスを取得することができます。サーバーのメトリクスであり、アプリケーションのログではない。
- Amazon CloudWatch RUM(Real Time User Monitoring): アプリケーションのクライアントサイドのパフォーマンスを監視することができます。サイト訪問者の地域やブラウザ、動線を統計分析してくれる。
- Amazon CloudWatch ServiceLens: アプリケーションの正常性、パフォーマンス、可用性を 1 か所で視覚化および分析できるようにする機能。
- Amazon Cloudwatch synthetics: REST API、URL、ウェブサイトコンテンツを、毎分、24 時間年中無休で監視し、アプリケーションエンドポイントが想定通りに動作しなかった場合にアラートを発します。エンドユーザーを模して性能や可用性を監視してくれる。

## 68.
- ターゲットグループ: トラフィックを分散する複数のターゲットを含んでグループ化したこと。
- ターゲット： Amazon EC2 インスタンス、コンテナ、IP アドレス、Lambda 関数、仮想アプライアンスなどがある。

## 70.
- aws ec2 run-instances: 選択したAMIを使用したAmazon EC2インスタンスの起動。
# Techstock

## 51-60

- インスタンスの状態が再起動直後にpendingからterminatedに変わる理由：
    - EBSボリューム制限に達した。
    - EBSスナップショットが破損している。
    - ルートEBSボリュームは暗号化されていて、複合用のKMSキーにアクセスする権限がない。
    - インスタンスを起動するために使用したInstance Store-Backed AMIで必要な部分(image.part.xx ファイル)が無い。
- AMI: 
    - AMIを一般公開せずに特定のAWSアカウントとだけ共有することができる。必要なものはAWSアカウントIDのみ。
    - AMIはリージョン内でのみアクセス可能であるため、他のリージョンでAMIが必要な場合は、AMIをコピーする必要がある。
- 詳細モニタリング: 単一のリージョン内の全てのEC2インスタンスで統計を集計するのに有効化されている必要がある。

- Amazon Redshift 拡張されたVPCのルーティング: インターネットをルーティングすることなく、VPCを介してS3を含むAWSサービスにアクセスすることができる。VPC機能を使用でき、VPCエンドポイントを作成することもできる。

- EC2のクラスタープレイスメントグループ: 単一のAZ内のインスタンスを論理的にグループ化する。低ネットワークレイテンシー、高ネットワークスループットとなる。拡張ネットワーキングをサポートするインスタンスタイプが必要。

- VPCエンドポイント: 仮想デバイス。AWS PrivateLinkを使用する、サポートされているAWSサービスやVPCエンドポイントサービスにVPCをプライベートに接続できる。

- VPCピアリング：VPCルートテーブルに手動で追加する必要がある。

- ステップスケーリングポリシー: 新しく起動されたインスタンスのウォームアップにかかる秒数を指定できる。指定された期間が終了するまで、インスタンスはAuto Scaling Groupの集合メトリクスの対象にならない。

- EFSファイルシステムの暗号化：
    - EFSファイルシステム作成時に保管時のデータの暗号化を有効にすることができる
    - ファイルシステムをマウントするとき、伝送中のデータの暗号化を有効にすることができる
- AWS CloudHSM: クラウドベースのハードウェアセキュリティモジュール。AWSクラウドで暗号化キーを簡単に生成して使用するサービス。

- ALBのスティッキーセッション機能: ALBがユーザーのセッションを特定のターゲットにバインドするように設定できる。これにより、ユーザーのセッション中の全てのリクエストが同じターゲットに送信される。これは連続したExperienceを提供するために状態情報を維持するのに役立つ。Cookieが必要。

- CloudFrontのOAI(Origin Access Identity): OAIと呼ばれるCloudFrontユーザーを作成し、ディストリビューションに関連づけ、OAIを使用してS3バケット内のファイルにアクセスしてユーザーに提供できるようにS3バケットのアクセス許可を設定できる。

- AWSへのフェデレーションアクセス用にSAML2.0を設定するために必要な情報：
    - IAMロールの信頼ポリシーでSAMLプロバイダーとAWSの信頼関係を確立するプリンシパルとして設定する。
    - 会社のIDプロバイダーでユーザーをIAMロールにマップするアサーション(認証応答)を定義する。

# udemy SOA模擬試験 1

## 1.

- AWSにおけるセキュリティ対応:
    - AWSを利用するユーザーは自身でデータを所有して管理することができる。
    - AWSが管理するデータセンターとリージョンを相互接続するAWSネットワークは安全性を高めるために、全てのデータは物理レイヤーで自動的に暗号化されています。
    - AWS側のインフラ環境は仮想化ソフトウェアでフィルタリングすることにより、ユーザーからはユーザーに割り当てられていない物理ホストまたはインスタンスにアクセスできないように設計されています。

## 2.
- blackhole: サブネットのルートテーブルに設定されていたNATゲートウェイやインターネットゲートウェイなどが削除された状態。プライベートサブネットにあるEC2インスタンスからのインターネットへの返信時に必要なパブリックIPアドレスを付与するためにNATインスタンスまたはNATゲートウェイがプライベートサブネットのルートテーブルに設定されている必要がある。

## 3.
- AWSではタグによる管理により、特定のリソースをグループ化したり、識別したりすることができます。
- インスタンスのメタデータ: 実行中のインスタンスを構成または管理するために使用できるインスタンスの情報
- ユーザーデータ: EC2インスタンスを設定するためのインスタンス起動時に実行されるユーザー定義のパラメーターまたはスクリプト。

## 4.
- バースト機能: CPUを使わないときに「クレジット」と呼ばれる通貨みたいなものを貯めておき、いざCPUを使いたいとなったときにその通貨を支払って100%のパフォーマンスを出すことができる機能。
- EC2インスタンスの種類:
    - 汎用: インスタンスのリソースを同じ割合で使用するアプリケーションに最適なインスタンス
        - A1: Arm エコシステムによってサポートされるスケールアウト型の Arm ベースのワークロードに最適で、大幅なコスト削減を実現できるが、T2およびT3インスタンスよりも高価なインスタンスタイプ。
        - T2, T3: ベースラインレベルの CPU パフォーマンスを提供する次世代のバースト可能な汎用インスタンスタイプであるため、いつでも必要な時間だけ CPU 使用率をバーストさせることが可能です。
        - M5: Intel Xeon_ Platinum 8175M プロセッサを搭載した最新世代の汎用インスタンス。T2およびT3インスタンスと異なり、バースト性能がないため、CPU使用率の上昇に対しても一定のパフォーマンスを保証できるインスタンスタイプではない。
    - コンピューティング最適化: 高パフォーマンスプロセッサが必要なコンピューティングバウンドなアプリケーションに利用。
    - メモリ最適化: メモリ内の大きいデータセットを処理するワークロードに対して高速なパフォーマンスに最適なインスタンス。
    - ストレージ最適化: ローカルストレージの大規模なデータセットに対する高いシーケンシャルな読み取りおよび書き込みアクセスを必要とするワークロード用。
    - 高速コンピューティング: ハードウェアアクセラレーターを使用して、浮動小数点計算、グラフィックス処理、データパターン統合などの機能をCPUで実行するソフトウェアに最適。
        - G4: 業界内で最も費用対効果の高い GPU インスタンスで、機械学習モデルの本番環境へのデプロイやグラフィックスを多用するアプリケーションに適しています。高機能ですがT2およびT3インスタンスよりも高価であり、高パフォーマンスが必要なケースに適しているため、コスト最適なインスタンスではありません。機械学習やゲーミングに最適なインスタンスタイプとなっている。

## 5.
- AWS Artifact: AWSとの契約やコンプライアンスなどに関わる情報を一元管理することができるサービス。
- AWS Config: AWSリソースの設定を評価、監査、審査できるサービス。
- AWS Certificate Manager: CA証明書を作成・管理するサービス。
- Amazon Macie: 機械学習を使用してAWSの機密データを自動的に検出、分類、保護するセキュリティサービス。

## 6.
- SpilloverCount: サージキューがいっぱいとなり拒否されたリクエストの総数を取得。
- RequestCount: 指定された間隔 (1 分または 5 分) の間に完了したリクエストの数、または接続の数を取得します。
- UnHealthyHostCount: ロードバランサーに登録された異常なインスタンス数を取得します。
- SurgeQueueLength: 正常なインスタンスへのルーティングを保留中のリクエスト (HTTP リスナー) または接続 (TCP リスナー) の合計数です。

## 7.
- AWS Systems Manager のSystems Manager Automation: Amazon EC2インスタンスおよび他の AWSリソースの一般的なメンテナンスとデプロイに関する運用タスクを自動化することが可能です。
- 自動化ワークフローの設定ステップ
    - Amazon CloudWatch Events を使用して自動化タスクおよびワークフローに関する通知を受信します。
    - Amazon EC2 または AWS Systems Manager コンソールを使用して、自動化の進捗状況および実行の詳細を監視します。
    - Systems Manager オートメーションドキュメントにより、オートメーションワークフロー（Systems Manager がマネージドインスタンスおよび AWS リソースで実行するアクション）を定義します。
    - 自動化ドキュメントが事前に定義することで、1 つ以上のAmazon EC2 インスタンスの再起動やAMIの作成といった一般的なタスクを実行する際に使用することができます。
- Amazon CloudWatch エージェント: インスタンスのメトリクスとログを収集する。
- AWS Systems Manager エージェント: EC2インスタンスなどにインストールして内部のメトリクスデータを取得することができる Amazon のソフトウェアです。AWS クラウド上の Systems Manager サービスからのリクエストを処理し、リクエストに指定されたとおりに実行します。

## 8.
- ALBのアクセスログの有効化: ロードバランサーに対するリクエスト詳細情報を収集することができるアクセスログを取得することができます。
- VPC Flow Logs: VPC のネットワークインターフェイスとの間で行き来する IP トラフィックをキャプチャする機能。

## 9.
- Amazon CloudWatch エージェント: システムメトリクスとログファイルの両方を収集できます。

## 10.
- IDS(Intrusion Detection System): 不正侵入検知システム。
- IPS(Intrusion Prevention System): 不正侵入防止システム。
- AWS Network Firewall:IPS / IDSを提供。同VPC内のリソースのインターネット宛の通信を検査する。
- AWS Gateway Load Balancer
    - シンプル化を通じてアプライアンス導入を迅速に
    - 伸縮性を持つスケーラビリティでコストパフォーマンス改善
    - アプライアンスの可用性を向上
    - 主要アプライアンス各社がサポート可能
- ネットワークアプライアンス: ネットワーク機器
    - ネットワークトラフィックに対して透過的であること
    - セキュリティー、監視、分析等の用途の対応
    - ポリシーおよび運用の専門知識への投資

- AWS WAF: AWS Web Application Firewall。webアプリ保護。
- 0.0.0.0/0: 全てのIPv4を意味する。
- 送信先(destination): パケットの最終目的地。(旅行に例えると：アメリカ)
- ターゲット(target): 送信先に到達するためのパケットの経由地点。(旅行に例えると：日本の空港)
- ルート: ネットワーク経路。
- ルートテーブル: ルートのルールの記載されたテーブル。
    - メインルートテーブル: VPCに自動割り当てされるルートテーブル
    - カスタムルートテーブル: VPC用に各自設定するルートテーブル
    - サブネットルートテーブル: サブネットに関連付けられるルートテーブル
    - ゲートウェイルートテーブル: インターネットゲートウェイまたは仮想プライベートゲートウェイに関連付けられるルートテーブル
    - ローカルゲートウェイルートテーブル: Outposts ローカルゲートウェイに関連付けられるルートテーブル

## 11.

- VPC フローログ: VPC のネットワークインターフェイスとの間で行き来する IP トラフィックに関する情報をキャプチャできるようにする機能。
- VPCフローログの見方:
    - 例)2 178982904800 eni-1267b8ca 172.178.45.11 10.0.1.110 0 0 1 4 336 389850083 3898500832 ACCEPT OK
    - ${version} ${account-id} ${interface-id} ${srcaddr} ${dstaddr} ${srcport} ${dstport} ${protocol} ${packets} ${bytes} ${start} ${end} ${action} ${log-status}
    - ${version} : VPCフローログのバージョン
    - ${account-id} : AWSアカウントのID
    - ${interface-id} : ネットワークインターフェイスのID
    - ${srcaddr} : 送信元IPアドレス
    - ${dstaddr} : 送信先IPアドレス
    - ${srcport} : 送信元ポート
    - ${dstport} : 送信先ポート
    - ${protocol} : プロトコルの番号
    - ${packets} : パケットの数
    - ${bytes} : バイト数
    - ${start} : 開始時刻(unixtime)
    - ${end} : 終了時刻(unixtime)
    - ${action} : アクション(ACCEPT or REJECT)
    - ${log-status} : ログ(OK or NODATA or SKIPDATA)
- ICMP (Internet Control Message Protocol): TCP/IPでネットワークの疎通がされているノード（サーバー、ネットワーク機器、PCなど）間で、通信状態の確認をするために使われるプロトコルです。ICMPは、死活監視や可用性監視と呼ばれる「Ping監視」を行うためのプログラムに使われます。Ping監視では、ICMPによりテストパケットが監視対象のノードに送付され、その応答により監視ノードの状態を把握します。つまり、ICMPによって「監視ノードが存在するか」「監視ノードと通信可能か」などを調べることができます。

## 12.
- EBS 最適化インスタンス: EBSに最適な専用の帯域幅を提供するインスタンスタイプ
- RAID(Redundant Arrays of Inexpensive Disks): 複数のハードディスクを組み合わせることにより、　1台の仮想的なハードディスクとして認識させて冗長性を向上させる技術のこと。
    - RAID0: 複数のハードディスクに同時に分散して読み書きを実行します。これにより、アクセスの高速化を実現します。RAID0は「ストライピング」とも呼ばれています。RAID0では複数のHDDに同じデータが保存されていないことから、このRAID構成のみ冗長性や耐障害性がありません。
    - RAID1: 複数のハードディスクに同じデータを書き込みことでハードディスクの耐障害性を実現します。RAID1は「ミラーリング」とも呼ばれています。RAID1では同じデータを2台以上のディスクに書き込むのでディスク容量の利用効率が50%以下になってしまうデメリットがある。
    - RAID5: データからパリティ（誤り訂正符号）を生成し、3台以上のハードディスクに分散して書き込みします。RAID5は、RAID0のように複数のディスクに分散しているため読み出し性能が優れているだけでなく1台のHDDに障害発生した場合でも、残りのHDDにより継続利用することが可能。

## 13.
- AWS Shield: マネージド型の分散サービス妨害 (DDoS) を防御するAWSサービスです。
    - Standard: 無料。CloudFrontとRoute53に対して自動適用する無料サービス。
    - Advanced: 有料。高レベルな保護。
- Amazon GuardDuty: AWS アカウントとワークロードを継続的にモニタリングし、悪意のあるアクティビティや不正なアクティビティから保護します。

## 14.
- terminate-instance-in-auto-scaling-group: 指定されたインスタンスを終了し、必要に応じて必要なグループサイズを調整します。
- --should-decrement-desired-capacity number: number分のインスタンス容量を減らすことができる。
- detach: 削除

## 15.
- EC2フリート: EC2インスタンスを統制する機能。
- AWS Batch: AWS クラウドでバッチコンピューティングワークロードを実行できます。
- AWS Systems Manager Patch Manager: セキュリティ関連のアップデートおよびその他のタイプのアップデートにおけるインスタンスへのパッチ適用プロセスを自動化します。オペレーティングシステムとアプリケーションの両方にパッチを適用するプロセスを設定摺うことが可能となります。
- EC2Rescue: EC2のWindowsインスタンスへの接続に失敗した場合や、起動上のトラブルが発生した場合にトラブルの分析に利用するログ収集などを実施します。

## 16.
- ELB(Elastic Load Balancer): 複数AZに展開された複数のEC2インスタンスの負荷状況に応じてトラフィックを分散してくれるロードバランサーです。
- Auto Scaling グループ: アプリケーションの利用状況によってインスタンス数を増減することができ、コストと可用性の向上に効果的です。1つのリージョン内のマルチAZで利用される機能です。

## 17.
- リスナー: 設定したプロトコルとポートを使用して接続リクエストをチェックするプロセス。外部からのアクセスを聞く人。このプロトコルでこのポートにアクセスがあったら、そのアクセスはどう処理する（どのサーバーにリダイレクトさせるか、など）ということを決めていくということです。
- フロントエンド接続: クライアントとロードバランサーの間の接続。
- バックエンド接続: ロードバランサーとターゲット

## 18.
- Amazon CloudFront: 動画、アプリケーション、静的、動的なコンテンツを迅速かつ安全に配信できるコンテンツデリバリネットワーク(CDN)サービス。
    - ファイルのバージョン管理を使用して、古いファイルのキャッシュから新しいバージョンのファイルに更新することで、キャッシュファイル自体を更新することができます。
    - 誤ったファイルがキャッシュされた場合、有効期限が切れる前にCloudFrontエッジキャッシュからファイルを削除する
        - aws cloudfront create-invalidationコマンドを使用して、エッジキャッシュからファイルを無効化する。
        - 次にビューアがファイルをリクエストした際に、CloudFrontがファイルの最新バージョンを取得してファイル自体を更新する。
- CDN (Content Delivery Network): コンテンツをスピーディーかつ効率的に配信できるようにしたネットワークのことです。
- エッジロケーション: エッジサーバーでコンテンツをキャッシュし、配信の高速化とオリジンサーバーへの負荷を軽減します。
- オリジンサーバー: コンテンツが格納されているサーバーのことです。EC2やS3、ELBなどをオリジンサーバーとして使用することができます。

## 19.
- プロビジョニング: は、必要に応じてネットワークやコンピュータの設備などのリソースを提供できるよう予測し、準備しておくこと。
- AWS Elastic Beanstalk: 容量のプロビジョニング、負荷分散、自動スケーリング、アプリケーションのデプロイの詳細を自動化するサービス。AWS CloudFormationと連携してアプリケーションのバージョンを展開する際にインフラ環境を構築します。
- AWS Serverless Application Model(SAM): サーバーレスアプリケーション構築用のオープンソースフレームワークです。Lambda関数などのサーバレスアプリケーションをデプロイする際に利用されますが、その際の実行環境はCloudFormationに依存しており、CloudFormationテンプレート内にSAMの設定を実施してデプロイを実行することができます。

## 20.
- EC2 Linux インスタンスのOSのメトリクスとパフォーマンスのモニタリング:
    - EC2インスタンスにCloudWatch エージェントを使用してメトリクス取得を設定することが必要です。その際はAWS CLIからメトリクスのモニタリング設定のスクリプトを記述して、実行することが必要です。エージェントはインスタンス内部のデータを CloudWatch にプッシュしてモニタリングを開始することができます。
- CloudWatch Logs エージェント: Amazon EC2 インスタンスから CloudWatch Logs にログデータを自動的に送信する方法を提供します。
    - ログデータを CloudWatch Logs にプッシュする AWS CLI プラグイン
    - データを CloudWatch Logs にプッシュするプロセスを開始するスクリプト (デーモン)。
    - デーモンが常に実行中であることを確認する cron ジョブ
- メトリクス: リソースやアプリケーションに関して測定できる変数。

## 21.
- HTTPCode_Backend_5XX: 登録済みインスタンスからサーバーエラー応答が送信された場合のエラー表記。
- リダイレクト: サイトやページなどを新しいURLに変更した際、自動的に転送をする仕組みのこと。
- リダイレクト応答: 要求されたコンテンツが異なるロケーションで検出されたことを示す300番台の状況コードが含まれた要求への応答。

## 22.
- AWSのサポートサービス:
    - ![Screenshot 2022-11-06 at 9 52 24](https://user-images.githubusercontent.com/61643054/200148937-42e9bdc7-31bf-4ca5-9462-a59b048dbf2d.png)
- AWS Inspector Checks: 評価ターゲットは、サポートされている多くのオペレーティングシステムで実行されるEC2インスタンスのみ。
- Amazon Detective: IP トラフィック、AWS 管理操作、悪意のあるアクティビティや不正なアクティビティに関するテラバイトのイベントデータレコードを自動的に処理します。

## 23.
- Amazon DynamoDB Auto Scaling: AWS Application Auto Scaling サービスを使用して、実際のトラフィック量の増減に応じてDynamoDBテーブルのプロビジョンドスループット性能を動的に調整する機能です。
- Amazon DynamoDB トランザクション: 複数のアクションをまとめてグループ化し、1 つのオールオアナッシングの TransactWriteItems または TransactGetItems オペレーションとして送信できます。
- Amazon DynamoDB グローバルテーブル: マルチリージョンにマルチマスターデータベースをデプロイすることができます。複数リージョンでテーブルを利用する際に活用できる機能。
- DynamoDB Accelerator(DAX): DynamoDBテーブルにキャッシュレイヤーを追加することで高速処理が可能。

## 24.
- キャッシュヒット率: キャッシュに目当てのデータが存在する確率。
- CloudFrontのキャッシュ設定:
    - クエリ文字列パラメータに基づいてキャッシュするように CloudFront を設定する場合、以下の手順を実行して、CloudFront がオリジンに転送するリクエストの数を減らすことができます。CloudFront エッジロケーションがオブジェクトを提供する場合、オリジンサーバーの負荷が軽減され、レイテンシーが減少します。これは、オブジェクトがユーザーに近い場所から提供されるためです。
    - ![Screenshot 2022-11-06 at 11 47 35](https://user-images.githubusercontent.com/61643054/200151594-51da9fe6-3fdf-4d79-9b69-3ced88579b30.png)
- 署名付きURLを利用してコンテンツを配信: コンテンツを閲覧できるユーザーを制限することができます。
- 署名付きCookieを利用してコンテンツを配信: コンテンツを閲覧できるユーザーを制限することができます。

## 25.
- Route53: DNS (ドメインネームサービス)のフルマネージドサービスです。
    - ドメイン登録機能
    - DNS ルーティング機能: ブラウザに対して、アクセスしたドメインに紐づく情報の受け渡しを行い、ウェブサイトの表示またはウェブアプリケーションに接続するための支援を行います。
    - DNS ヘルスチェック機能: ウェブサーバーなどのリソースの正常性を監視することができます。
    - パブリックホストゾーン: インターネット上でどのようにルーティングするかを指定する DNS レコードが含まれます。
    - プライベートホストゾーン: Amazon VPC 内でどのようにルーティングするかを指定する DNS レコードが含まれます。セキュリティ要件が高く、インターネットの外向けへの制限があるビジネスで、Amazon VPC 内部ネットワーク内で DNS ルーティングを行いたいユースケースもあります。
- A(Address)レコード: 「このドメイン名はこのIPアドレスだよ」(例) apple.com. A 17.149.160.49
- CNAMEレコード: 「このドメイン名とこのドメイン名は同じだよ」と教えてあげる書き方。(例) www.apple.com. CNAME apple.com.
- エイリアス(別名)レコード: 選択した AWS リソース (CloudFront ディストリビューションや Amazon S3 バケットなど) にトラフィックをルーティングできます。また、エイリアスレコードにより、ホストゾーン内のあるレコードから別のレコードにトラフィックをルーティングできます。Aレコードの機能。
    - CNAMEレコードであれば、以下の振る舞いとなります。
        - mydomain.com → myelb1-xxxxxxxxxx.ap-northeast-1.elb.amazonaws.com → IPアドレスの 3ステップで名前解決
    - エイリアスレコードであれば、Aレコードのため、以下の振る舞いとなります。ALIASレコードを利用した場合は、example1.*から直接...183を得ますので、DNSクエリが1回で済みます。CNAMEレコードと比較して50%削減です。
        - mydomain.com → IPアドレスの 2ステップで名前解決
- ドメイン: ○○○.com
- サブドメイン: □□□.○○○.comのように独自ドメインの先頭に文字列を挿入してドメインを区分けするというもので、1つのドメインを用途別に分割したい時に使用します。
- ホストゾーン: ドメインおよびサブドメインのトラフィックのルーティングする方法についての情報を保持するコンテナ。

## 26.
- コストと使用状況レポート: AWSサービス、料金、予約などに関するメタデータ などの包括的なコストデータが提供されています。
- Billingアラーム: CloudWatchの設定で、請求額がしきい値に達した際にアラームを通知する。
- AWS Pricing Calculator: AWS のユースケースに合ったコスト見積もりの作成に役立つウェブベースのサービス。

## 27.
- AWS Health: AWSのリソース、サービス、およびアカウントの状態をリアルタイムで可視化します。AWS で実行されるアプリケーションに影響を与えているリソースのパフォーマンスや可用性の問題の把握と修復のガイダンスを提供します。

## 28.
- CloudFormationによって作成されたスタックの更新:
    - 変更セットの利用
    - CloudFormationスタックを直接書き換える
- ドリフト: テンプレートによって展開したAWSリソースを展開後に変更した場合、元テンプレートとの差分を検出するチェック機能。

## 29.
- インスタンスファミリー: インスタンスタイプを用途別に分類したもので、グループとしては大きく「汎用」「コンピューティング最適化」「メモリー最適化」「Accelerated Computing」「ストレージ最適化」に分かれる。

## 30.
- Amazon GuardDutyの特徴:
    - 機械学習を利用した不正検知が可能
    - VPCフローログを解析できる
    - IPアドレスやドメインリストを解析できる。
    - ![Screenshot 2022-11-07 at 6 24 30](https://user-images.githubusercontent.com/61643054/200195959-f4cbf417-fbd1-4a64-9370-f69ca90de01d.png)

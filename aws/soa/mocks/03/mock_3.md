# udemy SOA模擬試験 3

## 1.
- EC2インスタンスにサードパーティのメールソフトウェアを利用したメール送信機能を実装するために
    - そのEC2インスタンスにElastic IPアドレスを設定することが必要です。それによって、AWSはISPおよびインターネットのスパム対策組織と連携して、これらElastic アドレスから送信されたメールにスパムのフラグが立てられる可能性を減らしてくれます。
    - メールの送信に使用されるElastic IPアドレスに静的なリバースDNSレコードを割り当てる必要があります。
    - リバースDNSレコードを作成する前に、Elastic IPアドレスを指すフォワードDNSレコード（レコードタイプA）が存在する必要があります。したがって、EC2インスタンスにElastic IPを割り当て、Route 53でEC2インスタンスのAレコードを作成することが必要です。

- Elasitc IPアドレス: 固定のパブリックIPアドレスをEC2インスタンスに設定できるサービス。
- EC2インスタンスに自動的に付与されるパブリックIPアドレス: インスタンスを起動するごとに新しいIPアドレスに変化する。
- DNS前方ルックアップ: DNSシステムがクエリーを受けてIPアドレスを返す
- リバースDNSルックアップ(リバースDNS): DNSシステムがクエリーを受けてドメインを返す
- DNS(Domain Name System): ドメイン名に対応するIPアドレスを教えてくれるシステムです。 
- DNSサーバー: DNSのサービスを実際に担当している。
    - キャッシュDNSサーバー: PCからの名前解決要求（このドメインのIPアドレスは何ですか？）をとりまとめる、キャッシュにない場合、権威DNSサーバーへ。
    - 権威DNSサーバ: 名前解決要求に対して名前解決結果を返答する
- レジストリ: ドメインの管理機関で、各ドメイン情報を持つデータベースを管理しています。ドメインの種類によってレジストリは異なります。
- レジストラ: ドメインの仲介登録業者で、レジストリデータベースに直接ドメイン情報を登録する事ができます。 
- ゾーンファイル: ドメイン名とIPアドレスの対応表
    - DNSレコード: ゾーンファイルの一行一行のこと。
    - ![Screenshot 2022-11-26 at 12 31 54](https://user-images.githubusercontent.com/61643054/204071124-9f5021a3-a093-43e7-960e-478c7232efbb.png)
    - レコードの種類: 
        - Aレコード: IPv4アドレスをドメインに関連付けるために利用。アドレス（Address）の頭文字をとってAレコードだそうです。 一番基本的なレコードです。
        - MXレコード: 対象ドメイン宛のメールの配送先（メールサーバ）のホスト名を定義するレコードです。 メールエクスチェンジ(Mail Exchange)の略でMXレコードだそうです。 独自ドメインのメールを使用する際は必要なレコードです。 設定値には、予めAレコード設定を行ったホスト名が必要です。 （例） remacre.jp. IN MX 10 mail.remacre.jp. 意味：◯◯@remacre.jpというメールアドレスはmail.remacre.jpが受信します。
        - NSレコード: ゾーン情報を管理するネームサーバーのサーバー名を定義するレコードです。 ネームサーバー（Name Server）の略でNSレコードだそうです。 設定値には、予めAレコード設定を行ったホスト名が必要です。 （例） remacre.jp. IN NS 01.dnsv.jp. 意味：ドメインremacre.jpはネームサーバー01.dnsv.jpに問い合わせてね。
        - CNAMEレコード: ホスト名に対する別名を定義するレコードです。 キャノニカルネーム(Canonical NAME)の略でCNAMEレコードだそうです。 ドメイン名を別のドメイン名に転送する時などに利用します。 （例） remacre.jp. IN A 59.106.27.217 www.remacre.jp. IN CNAME remacre.jp. 意味：ドメインwww.remacre.jpはドメインremacre.jpと同じですよ。
        - SOA: ドメインのDNSサーバー/ドメイン管理者のメールアドレス/シリアル番号などを保持してゾーン転送時に情報が更新されているかの判断に利用する。
        - PTRレコード: ポインタレコード。IPアドレスからドメイン名の検索をクエリします。
            - スパム対策：一部のメールのスパム対策フィルターは、メールアドレスのドメイン名をチェックし、関連付けられているIPアドレスが正規のメールサーバーで使用されているものであるかを確認するためにDNSの逆引きを使用しています。
            - 注意点としては、ホストゾーンのドメイン名の最後に .in-addr.arpaをつけること、 最終的に逆引きしたいIPアドレスの第4オクテットから逆に設定されたレコードにする必要がある点です。
            - 例えば、今回は10.0.1.10のIPアドレスを逆引きしたいと思っています。 この場合、最終的に10.1.0.10.in-addr.arpaのレコードができていれば、逆引きすることができます。


## 2.
- AutoScaling: 1 つの統合されたインターフェイスからアプリケーションを強化するすべてのスケーラブルなリソースの自動スケーリングを構成することができます。以下のリソースがあります。
    - Amazon EC2: Amazon EC2 Auto Scaling グループ内で Amazon EC2 インスタンスを起動または終了します。詳細はこちら。
    - Amazon EC2 スポットフリート: Amazon EC2 スポットフリートのインスタンスを起動または終了します。あるいは、料金やキャパシティーが原因で中断されているインスタンスを自動的に置き換えます。詳細はこちら。
    - Amazon ECS: 負荷の変動に合わせて ECS サービスの必要数を調整します。詳細はこちら。
    - Amazon DynamoDB: DynamoDB テーブルまたはグローバルセカンダリインデックスで、プロビジョニングされている読み込みおよび書き込みキャパシティーを増やせるため、スロットリングなしでトラフィックの急激な増加に対応できます。詳細はこちら。
    - Amazon Aurora: Aurora DB クラスターにプロビジョニングされている Aurora リードレプリカの数を動的に調整し、アクティブな接続やワークロードの急激な増加に対応します。詳細はこちら。
- EC2 起動テンプレート: AutoScalingでスケールする際のテンプレート。

- CloudFormation:
    - ![Screen Shot 2022-08-25 at 6 29 45](https://user-images.githubusercontent.com/61643054/186527469-b698ebd0-2300-4c00-bda1-6a36064c480b.png)
    - ![Screen Shot 2022-08-25 at 6 30 47](https://user-images.githubusercontent.com/61643054/186527499-830f331a-e110-4bca-bb41-4b3bca63c6c7.png)
    - Conditions: エンティティが作成または設定される状況を定義することができます。たとえば、条件を作成し、それをリソースまたは出力に関連付けることで、条件が true の場合にのみ AWS CloudFormation がリソースまたは出力を作成するようにできます。
    - Mappings: キーと名前付きの一連の値とが対応付けられます。たとえば、リージョンに基づく値を設定する場合、リージョン名をキーとしてAMI IDなどの値をマッピングすることが可能です。
        - ![Screenshot 2022-11-27 at 7 05 49](https://user-images.githubusercontent.com/61643054/204110709-b36ea053-18b5-4d6a-bf28-a2fb652093bb.png)
    - Resources: スタックに含める AWS リソース (Amazon EC2 インスタンスや Amazon S3 バケットなど) を宣言します。 
    - Outputs: 作成したリソースを他のスタックで使用する際にexport宣言をするときに使用する

## 3.
- ロードバランサーのスキーム: ロードバランサーを内部向けにするかインターネット向けにするか選択する必要
    - インターネット向け(internet-facing): インターネット向けロードバランサーのノードにはパブリック IP アドレスが必要です。インターネット向けロードバランサーの DNS 名は、ノードのパブリック IP アドレスにパブリックに解決可能です。したがって、インターネット向けロードバランサーは、クライアントからインターネット経由でリクエストをルーティングできます。
    - 内部向け(internal): 内部ロードバランサーのノードはプライベート IP アドレスのみを持ちます。内部ロードバランサーの DNS 名は、ノードのプライベート IP アドレスにパブリックに解決可能です。そのため、内部向けロードバランサーは、ロードバランサー用に VPC へのアクセス権を持つクライアントからのみ、リクエストをルーティングできます。

## 4.

- webアプリ on EC2インスタンスのステータスチェックに失敗した場合のエラー特定方法:
    - アプリ上の実行トラブルが発生しているかどうかをアプリケーションログから確認
    - EC2インスタンスのシステムログの確認
- EC2インスタンスのCloudWatchの標準メトリクス: CPU使用率、ディスク容量などを知ることができるが詳細な原因解析はできない
- CloudWatch Agent on EC2: メモリやディスクの使用率などのカスタムメトリクスを取得するもの。
- EC2インスタンスのフローログ: EC2インスタンスのトラフィックログを取得する機能。

## 5.
- EC2:
    - インスタンスタイプ: ユースケースごとに選択できるCPUやメモリなどの組み合わせ
    - インスタンスファミリー: インスタンスタイプの用途別のカテゴリー。
        - 汎用: インスタンスのリソースを同じ割合で使用するアプリケーションに最適なインスタンス
            - A1: Arm エコシステムによってサポートされるスケールアウト型の Arm ベースのワークロードに最適で、大幅なコスト削減を実現できるが、T2およびT3インスタンスよりも高価なインスタンスタイプ。
            - T2, T3: ベースラインレベルの CPU パフォーマンスを提供する次世代のバースト可能な汎用インスタンスタイプであるため、いつでも必要な時間だけ CPU 使用率をバーストさせることが可能です。
            - M5: Intel Xeon_ Platinum 8175M プロセッサを搭載した最新世代の汎用インスタンス。T2およびT3インスタンスと異なり、バースト性能がないため、CPU使用率の上昇に対しても一定のパフォーマンスを保証できるインスタンスタイプではない。
        - コンピューティング最適化: 高パフォーマンスプロセッサが必要なコンピューティングバウンドなアプリケーションに利用。
        - メモリ最適化: メモリ内の大きいデータセットを処理するワークロードに対して高速なパフォーマンスに最適なインスタンス。
        - ストレージ最適化: ローカルストレージの大規模なデータセットに対する高いシーケンシャルな読み取りおよび書き込みアクセスを必要とするワークロード用。
        - 高速コンピューティング: ハードウェアアクセラレーターを使用して、浮動小数点計算、グラフィックス処理、データパターン統合などの機能をCPUで実行するソフトウェアに最適。
            - G4: 業界内で最も費用対効果の高い GPU インスタンスで、機械学習モデルの本番環境へのデプロイやグラフィックスを多用するアプリケーションに適しています。高機能ですがT2およびT3インスタンスよりも高価であり、高パフォーマンスが必要なケースに適しているため、コスト最適なインスタンスではありません。機械学習やゲーミングに最適なインスタンスタイプとなっている。
    - インスタンスサイズ: インスタンスタイプの「.」より後。「t2.micro」であれば「micro」。サイズが大きくなるごとにメモリが倍になる。

## 6.
- S3イベント通知: バケット内でデータ削除や更新などの特定のイベントが発生した際の通知を設定することが可能です。Amazon SNS 、Amazon SQSまたはLambdaを宛先に対してイベントを発行できます。

## 7.
- Route 53:
    - Hosted Zone: ネームサーバー。ドメインのリソースレコードを管理。
    - Evaluate Target Health: ELBのヘルスチェックと連動するRoute53の機能であり、ELBの背後にあるEC2インスタンスのレイテンシーを確認して、最適なルーティングを実施するように設定することができます。
    - プライベートホストゾーン: VPC内に閉じたプライベートネットワーク内のDNSドメインのレコードを管理するコンテナ。
    - パブリックホストゾーン: インターネット上に公開されたDNSドメインのレコードを管理するコンテナ
- ![Screenshot 2022-11-27 at 16 30 36](https://user-images.githubusercontent.com/61643054/204124619-53127e3d-5e98-4304-859f-3380e8e54f00.png)

- トラフィックルーティング: クライアントからのトラフィックを要件に応じて適切な宛先へ転送すること。
- ルーティングポリシー: Route53では複数のルーティングポリシーにより柔軟なルールを作成可能。
    - シンプルルーティング:
        - レコードセットで事前に設定された値のみに基づいてDNSクエリに応答する
        - 従来のDNSと同様に静的なマッピングによりルーティングが決定される
    - 加重ルーティング:
        - 複数エンドポイントごとに設定された重みづけに基づいて、DNSクエリに応答する
        - より重みづけの高いエンドポイントリソースにより多くルーティングされる
    - レイテンシールーティング:
        - AWSリージョンとの遅延によってDNSクエリに応答する
        - リージョン間の遅延が少ない方のリソースにルーティングされる
    - フェイルオーバールーティング:
        - ヘルチェック結果に基づいて利用可能なリソースをDNSクエリに応答する
        - 利用可能なリソースのみにルーティングする
            - アクティブ/パッシブ:プライマリリソースをアクティブなリソースとしてルーティングする。障害発生時にセカンダリーのリソースをルーティングする。フェールオーバーポリシーを利用。
            - アクティブ/アクティブ: 複数のリソースをアクティブとしてルーティングする。障害が発生した場合、Route53は正常なリソースにフェールバックする。フェールオーバー以外のポリシーを使用。
    - 位置情報ルーティング: 
        - クライアントの位置情報に基づいて、DNSクエリに応答する
        - 特定の地域・国からのDNSクエリに対して特定のアドレスを応答する

## 8.

- CloudWatch アラーム: メトリクスを選択してしきい値をoverしたら通知できるようにするサービス。
- CloudWatchダッシュボード: 通知状況を視覚的に確認することができます。
- AWS Inspector: EC2インスタンス, ECRにAmazon Inspector エージェントをインストールして、ネットワーク到達性や、プラットフォームの脆弱性を診断し、潜在的なセキュリティ上の問題を発見するためのもの。自動的にアプリケーションを評価し、露出、脆弱性、ベストプラクティスからの逸脱がないかどうかを確認できます。
- AWS Config: AWS リソースの設定履歴を調べ、社内ガイドラインで指定された設定に対する全体的なコンプライアンスを確認できます。 

## 9.

- IAM: ポリシーは以下の6種類
    - アイデンティティベースポリシー(ユーザーベースポリシー): IAMアイデンティティ(IAMユーザー、IAMロール、IAMグループ)にアタッチできるポリシーで、いわゆるIAMポリシー・Permissions Policyが該当する。
        - AWS管理ポリシー: AWSが用意している再利用可能なポリシー。複数のIAMユーザー、IAMグループ、IAMロール間で共有可能。
        - カスタマー管理ポリシー: ユーザーが作成した再利用可能なポリシー。複数のIAMユーザー、IAMグループ、IAMロール間で共有可能。
    - アクセス許可の境界（Permissions boundary）: IAMユーザー、IAMロールにアタッチでき、権限に対して上限を定める。アイデンティティベースポリシーとセットで評価に用いられます。基本的にはアイデンティティベースポリシーと Permissions boundary の双方で許可されていないとアクションは拒否（暗黙的な拒否）となります。
    - リソースベースポリシー: S3 バケットや SNS トピック、Lambda 関数など、アクションの実行先となる AWS リソースにアタッチするポリシーです。すべてのリソースタイプでリソースベースポリシーが使用できるわけではなく、リソースベースポリシーがサポートされているリソースのみ。 IAM ロールを指定できますが、IAM ロール自身がプリンシパル（アクションを実行する主体）となることはありません。
        - 信頼ポリシー: あるロールが持っている権限を他のプリンシパル（ユーザー、グループ、ロール）に移譲することができます。この人、リソースなら使って良いよを記載。
    - セッションポリシー: IAM ロールや IAM ユーザーをベースに生成されたセッションには、セッション生成時にセッションポリシーを任意で割り当てられます。セッションは有効期限を持ちますので、そのセッション内のみで有効なポリシーです。
    - Organizations SCP: 組織またはOUのアカウントのアクセス許可の上限を定義する。許可は付与しない。
    - アクセスコントロールリスト(ACL): S3リソース用。他アカウントのプリンシパルを指定してクロスアカウントアクセス許可を付与する。
- Pass Role: ユーザーがAWSサービスにロールをPass(わたす)権限。
- Get Role: ユーザーがわたすロールの詳細を得るために使用する。
- Principal: アクションを実行する主体。依頼者。
        
        
- AssumeRole: IAMロールを引き受けるためのアクション。スイッチロール（ひいては AssumeRole）を行ったあとは、IAM ユーザーではなく「 STS によりロールを引き受けたセッション」が操作を行う主体となります。
    https://dev.classmethod.jp/articles/iam-role-passrole-assumerole/

## 10.
- アプリケーションを構成するAWSリソースへのAPIリクエストログとIPアドレスリストに関するレポートを作成するためには:
    - APIリクエストログ → CloudTrailでAPIで実行されたログを取得
    - IPアドレスリスト　→　VPCフローログでVPCのネットワークインターフェイスを行き来するIPトラフィックに関する情報をキャプチャ


## 11.
- Amazon RDSのメンテナンスウィンドウの実行状況を確認する際にモニタリングするべきアクティビティ:
    - サーバーに適用されたパッチの適用
    - OSの更新
    - DBバージョンの変更

## 12.
- ELBの主な役割: 
    - ![Screen Shot 2022-08-24 at 6 31 10](https://user-images.githubusercontent.com/61643054/186270230-b8f65570-63b7-486f-ae08-5721b141977f.png)

## 13.
- EC2の拡張ネットワーキング: 有効化するだけでインスタンスのネットワークパフォーマンスが向上する。


## 14.
- スロットリングエラー: 一定時間内に受信可能なリクエスト数を制限し、制限を上回るリクエストがなされた際には受信を拒否しエラーコードを返却すること。時間経過により再び受信可能となる仕組みです。
CloudFormationのスロットリングエラー: スタック作成用のAPIが同時に多くのリソースを作成したときに、遅延によって引き起こされるエラーのこと。
- CloudFormationのドリフト: テンプレートで展開したインフラ内容が手動で更新されたさいに検出する機能。
- 指数関数的バックオフ: プログラムやネットワーク機器がデータの送信処理に失敗したときに失敗回数に応じて再送信処理を実行するまでの待ち時間を指数関数的に増やす仕組みのこと。

## 16.

- AWSは多くのID プロバイダー(IdP)におけるSAML 2.0 を使用した ID フェデレーションによって、フェデレーティッドシングルサインオン (SSO) を実施することができます。これにより、組織内の全員にIAM ユーザーを作成しなくても、オンプレミス環境のActive Directoryを利用して AWS マネジメントコンソール にログインしたり、AWS API オペレーションを呼び出したりできるようになります。AWS STSはSAML2.0などのオープンスタンダードをサポートしています。

## 17.

ネットワークACL: 番号の低い順に評価する。

## 18.
- VPCフローログ: トラフィックをキャプチャするだけの機能。
- Amazon Inspector: 自動化されたアプリケーションのセキュリティ評価サービスで、AWS にデプロイしたアプリケーションのセキュリティとコンプライアンスを向上させることができます。アプリケーション自体の不正利用を検知。
- CloudFront: モニタリング、レポート、およびアクセスログを提供してCloudFrontディストリビューションのアクティビティを追跡することができます。コンテンツ配信の動きを確認することで、不正アクセスを検知することができます。

## 19.
- AWS Service Catalog の タグオプションライブラリーを利用することで、AWS管理者はAWSリソースに設定されたタグを簡単に管理できるようになります。タグオプションは AWS Service Catalog で管理されるキーと値のペアです。その際にタグオプション ではAWS のタグ作成のテンプレートが利用できます。 タグ・オプション・ライブラリーには次のような機能があります。 
    - AWS での使用が承認された IT サービスのカタログを作成および管理できます。この IT サービスには、仮想マシンイメージ、サーバー、ソフトウェア、データベース、さらに包括的な多層アプリケーションアーキテクチャまで、あらゆるものが含まれます。AWS Service Catalog により、デプロイ済みの IT サービスやアプリケーション、リソース、さらにメタデータを、一元的に管理できるようになります。
- AWS Organizations のタグポリシー: 利用するタグ内容を標準化する際に利用します。タグポリシーでは指定したリソースタイプで非準拠のタグ付け操作を強制するように指定することもできます。

## 20.

- Auto Scalingのスケーリング方法:
    - ![Screenshot 2022-11-28 at 6 04 34](https://user-images.githubusercontent.com/61643054/204159661-8d0855fa-989a-48a6-ba98-d6bb9d7813e9.png)

- ターミネーションポリシー: Auto Scalingで スケールイン が発生した時に、どのインスタンスを終了させるかを決めるもの。
- Elastic Beanstalk: WEBアプリケーションやワーカープロセスをデプロイしたり、バージョン管理する際に利用します。
- AWS OpsWorks: Puppet または Chef を使用して、クラウドエンタープライズでアプリケーションを設定および運用するための設定管理サービスです。GitHub ソースリポジトリに接続したパイプラインは構成できません。


## 22.
- CloudWatchログ: VPCフローログなどから取得したトラフィックログを収集・表示させる機能。
- 詳細モニタリング: モニタリング項目の送信間隔を変更させる機能。

## 23.
- スナップショットから復元されたボリューム上のストレージブロック: 
    - ブロックにアクセスする前に初期化する必要があります。 この予備的なアクションには時間がかかり、各ブロックに最初にアクセスした際は、I / O操作のレイテンシが大幅に増加する可能性があります。
    - この遅延はデータに1回アクセスするとパフォーマンスが改善されます。実稼働環境では、ボリュームを使用する前にすべてのブロックからの読み取りを実行することで、この実働時間に発生するパフォーマンスヒットを回避できます。

- Amazon EBS: データの処理が高速であるという特徴


## 24.
- プレイスメントグループ: ![Screenshot 2022-11-28 at 6 26 16](https://user-images.githubusercontent.com/61643054/204160780-2029ceb7-6769-4b38-aa79-d41ff1e5d3df.png)


## 26.
- Cloudwatch: PutMetricData APIを使用して CloudWatch にカスタムメトリクスをプッシュできます。

## 28.

- CloudWatch ダッシュボード: AWS アカウントに直接アクセスできないユーザーとメトリクスなどのグラフを共有できます。

## 29.
- リザーブドインスタンスの価格メリット: 購入したリザーブドインスタンスの総数に基づいて、支払アカウント（またはインスタンスを予約したアカウント）だけでなく、AWS Organizationsの一括請求が設定されている全アカウントに適用されるため、購入したリザーブドインスタンスの数だけ、その価格メリットが適用されます。その場合の条件として、各アカウントが利用するインスタンスは同じゾーンの同じインスタンスサイズであることが必要です。
    - 各アカウントが利用するインスタンスは同じゾーンの同じインスタンスサイズであるリザーブドインスタンスについては、AWS Organizationsの一括請求が設定されているアカウント間で共有することができます。

## 30.
- AWS Snowmobile: 1エクサバイトのデータをAWSに転送するための最適なサービス
- Snowball edged: データ移行とエッジコンピューティングのデバイスです。

## 31.
- Elastic Load Balancing が送信元のリクエストは、ポート 1024〜65535 を使用します。

## 32
- CloudTrail コンソールでログファイルの整合性検証: CloudTrailではハッシュ用の SHA-256 とデジタル署名用の RSA を備えた SHA-256を利用して、ログの変更状況を検証することができます。これにより、CloudTrail ログファイルを検出を回避して変更、削除、または偽造することは計算上実行不可能になります。

## 33.
- AWS KMS: KMSの発行するカスタマーマスターキーにアクセスできるユーザーを管理ためにキーポリシーを利用します。キーポリシーを利用してKMSの発行するカスタマーマスターキーにアクセスできるユーザーを管理することが可能です

## 35.
- Amazon Data Lifecycle Manager (Amazon DLM) : Amazon EBS ボリュームに保存されたデータをバックアップをスケジューリングして自動化することができるサービスです。
- AWS Data Pipeline: 指定された間隔で、AWS のさまざまなコンピューティングサービスやストレージサービスのほか、オンプレミスのデータソース間で信頼性の高いデータ処理やデータ移動を行うことを支援するサービス。

## 36.
- Auto ScalingのAddToLoadBalancer: AutoScalingによってインスタンスが起動されたときにインスタンスをELBのターゲットグループに設定する機能。このプロセスが中断されている間に起動されたインスタンスは追加されないままとなりますので、これらのインスタンスを手動で登録する必要があります。

## 37.
- Oracle RAC(Real Application Clusters): 
    - 複数のサーバで一つのデータベースを構成するOracleのクラスタ環境構成のこと。
    - これによってアクティブ/アクティブ構成となるデータベースとなり冗長構成を実現することができます。
    - Amazon RDS OracleデータベースエンジンはRAC構成を使用することができません。
- Egress-Only インターネットゲートウェイ: 水平にスケールされ、冗長で、高度な可用性を持つ VPC コンポーネントで、これによって、IPv6 経由での VPC からインターネットへの送信を可能にし、インターネットからのIPv6 接続が開始されるのを防ぐことができます。   

## 38.
- バージョニングを有効化したAmazon S3バケットへのリクエストにHTTP 503エラーが発生する原因: 
    - 原因：Amazon S3では何百万ものバージョンを有するオブジェクトがある場合にリクエストを自動的に調整して、過剰なリクエストトラフィックからユーザーを保護します。
    - 解決策：
        - Amazon S3インベントリツール: バケット内のオブジェクトのフラットファイルリストを提供するレポートを生成します。 これにより、オブジェクトの状況を一覧形式で確認して何百万ものバージョンを有するオブジェクトのバージョンを削除することでエラーを解消することができます。
- Amazon S3 分析のストレージクラス分析: ストレージアクセスパターンを分析し、適切なデータをいつ適切なストレージクラスに移行すべきかを判断できます。
- 503エラー: サーバーへの同時アクセス数の制限を超えているため、訪問者の閲覧を制限している状態

 ## 39.
- Amazon Redshift 拡張VPC ルーティング: クラスターとデータリポジトリ間のすべての COPY と UNLOAD トラフィックが Amazon VPC を通るように強制することができます。
- Amazon Redshiftの3つのログ記録オプション:
    - 監査ログ: S3 Bcuketに保存
    - STLテーブル: クラスターの全てのノードに保存。監査ログと STL テーブルはどのユーザーがいつログインしたかなど、データベースレベルのアクティビティを記録します。これらのテーブルには、ユーザーが実行した SQL アクティビティとその時期も記録されています。
    - AWS CloudTrail: サービスレベルで実行されたアクティビティを追跡します。ログはS3に保存されます。

## 41.

- S3インベントリ: バケットに保存されているすべてのオブジェクトの複製および暗号化のステータスに関するレポートを生成することが可能です。
    - ![Screenshot 2022-11-28 at 12 18 01](https://user-images.githubusercontent.com/61643054/204184144-09207e8e-bc5c-467c-8986-64a2d42db659.png)
- Amazon S3 分析のストレージクラス分析: ストレージアクセスパターンを分析し、適切なデータをいつ適切なストレージクラスに移行すべきかを判断できる。
- S3 Storage Lens: オブジェクトストレージの使用状況とアクティビティの傾向を可視化し、コスト効率化、データ保護に関するベストプラクティスに向けた推奨事項が提供されます
- S3 サーバーアクセスログ: Bucketに対するリクエストの詳細な記録。

## 42.
- Amazon RDS:
    - Aurora: プライマリーとなるDBクラスターが設置されているリージョンとは異なるリージョンにリードレプリカを作成することができる。この方法を採用すると、障害回復機能を向上させて、読み取り操作をユーザーに近いリージョンに拡張しつつ、複数リージョンでの読み取り処理を改善する。
    - AZ: 起動時にMultiAZオプションをオンにすると自動的に2つのRDSを2つのAZに渡って構築してくれる。
    - マスター(プライマリ):mainでCUD処理をするインスタンス。
    - スレーブ(セカンダリ): マスターの変更を自動的に反映するバックアップ。
    - リードレプリカ: マスターからレプリケーションされた読み込み専用のデータベース。リードレプリカを使用する設計だとデータ読み込み（SELECTクエリ）を行う場合はリードレプリカが処理する。
    - <img width="654" alt="Screen Shot 2022-08-20 at 12 22 33" src="https://user-images.githubusercontent.com/61643054/185727194-264ade1f-bcb4-4632-aa7c-4e71e62e4a8e.png">
    - ![Screenshot 2022-11-28 at 12 58 52](https://user-images.githubusercontent.com/61643054/204251589-a8d643d5-fb6e-4bc2-98f8-03064477694e.png)

- WEC2インスタンスとAmazon RDSで構成されたWebサイトが一部の顧客に対して正しくロードされないときに確認するEC2のメトリクス:
    - NetworkPacketsOut: 特定のインスタンスから送信されたパケット数を取得する。インスタンスから適切なパケット処理がネットワークインターフェースを通過しているかを確認。
    - NetworkIn: 1 つのインスタンスへの受信ネットワークトラフィックの量。インスタンスでの適切なデータ受信状況を確認。
    - CPUUtilization: CPUの使用率を取得するメトリクス。選択したインスタンスでアプリケーションを実行するのに必要な処理能力を特定。

## 43.
- AWS Snowball Edge Storage Optimized: ストレージ容量は100TBであり利用可能領域は80 TBであり、これを2つ利用することで180TBのデータを移行できます。
- AWS Storage Gatewayサービス: ストレージ間のデータ転送に利用可能ですが、主にバックアップ時に利用されます。また、結局はVPN接続回線を利用してデータをストレージ間で転送することになるため、時間を要します。
- Direct Connect: オンプレミスとAWS間との専用線接続に利用されます。

## 44.
-  EC2インスタンスのIPv6サポートはM3とG2を除く現行世代のEC2インスタンスタイプで動作がサポートされています。
- IPv4を利用しているVPCに対して、IPv6を有効にするためには、IPv6 CIDRブロックをVPCおよびサブネットに関連づけることが必要です。

## 45.
- セキュリティグループ
    - サーバー単位のトラフィック制御機能
    - ステートフル: インバウンドのみ設定すればアウトバウンドも許可される
    - 許可のみをIn/Outで指定
    - デフォルトでは同じセキュリティグループ内通信のみ許可
    - 全てのルールを適用
- ネットワークACL
    - VPC/サブネット単位向けのトラフィック制御機能
    - ステートレス: インバウンド設定だけではアウトバウンドは許可されない
    - 許可と拒否をIn/Outで指定
    - デフォルトでは全ての通信を許可する設定
    - 番号の順序通りに適用
- ルートテーブル: サブネットをルートテーブルに関連づけるために利用するルート設定テーブル。

## 47.
- ELBの主な役割: 
    - ![Screen Shot 2022-08-24 at 6 31 10](https://user-images.githubusercontent.com/61643054/186270230-b8f65570-63b7-486f-ae08-5721b141977f.png)
    - Connection Drainingの設定時間: 最大タイムアウト値は 1 〜 3,600 秒の間で設定できます。

## 48.
- EC2インスタンス システムログ: 
    - ![Screenshot 2022-11-28 at 21 22 59](https://user-images.githubusercontent.com/61643054/204277057-95d06afe-2887-4cef-b896-614b8e5b1acf.png)

## 50.
- EC2Rescue for EC2 Windows: オペレーティングシステムのログファイルを収集し、Windows EC2インスタンスに対するログ解析をすることができます。
- Amazon Macie: 機械学習によって AWS 内の機密データを自動的に検出、分類、保護するセキュリティサービス。

## 52.
- IAM: ポリシーは以下の6種類
    - アイデンティティベースポリシー(ユーザーベースポリシー): IAMアイデンティティ(IAMユーザー、IAMロール、IAMグループ)にアタッチできるポリシーで、いわゆるIAMポリシー・Permissions Policyが該当する。
        - AWS管理ポリシー: AWSが用意している再利用可能なポリシー。複数のIAMユーザー、IAMグループ、IAMロール間で共有可能。
        - カスタマー管理ポリシー: ユーザーが作成した再利用可能なポリシー。複数のIAMユーザー、IAMグループ、IAMロール間で共有可能。
    - アクセス許可の境界（Permissions boundary）: IAMユーザー、IAMロールにアタッチでき、権限に対して上限を定める。アイデンティティベースポリシーとセットで評価に用いられます。基本的にはアイデンティティベースポリシーと Permissions boundary の双方で許可されていないとアクションは拒否（暗黙的な拒否）となります。
    - リソースベースポリシー: S3 バケットや SNS トピック、Lambda 関数など、アクションの実行先となる AWS リソースにアタッチするポリシーです。すべてのリソースタイプでリソースベースポリシーが使用できるわけではなく、リソースベースポリシーがサポートされているリソースのみ。 IAM ロールを指定できますが、IAM ロール自身がプリンシパル（アクションを実行する主体）となることはありません。
        - 信頼ポリシー: あるロールが持っている権限を他のプリンシパル（ユーザー、グループ、ロール）に移譲することができます。この人、リソースなら使って良いよを記載。
    - セッションポリシー: IAM ロールや IAM ユーザーをベースに生成されたセッションには、セッション生成時にセッションポリシーを任意で割り当てられます。セッションは有効期限を持ちますので、そのセッション内のみで有効なポリシーです。
    - Organizations SCP: 組織またはOUのアカウントのアクセス許可の上限を定義する。許可は付与しない。
    - アクセスコントロールリスト(ACL): S3リソース用。他アカウントのプリンシパルを指定してクロスアカウントアクセス許可を付与する。
- Pass Role: ユーザーがAWSサービスにロールをPass(わたす)権限。
- Get Role: ユーザーがわたすロールの詳細を得るために使用する。
- Principal: アクションを実行する主体。依頼者。


- 1.IAMユーザーにアタッチされている別のIAMアクセス許可ポリシーにて iam：PassRoleパーミッションとiam：GetRoleパーミッションを設定します。
- 2.ロールが実行する必要があるアクションとリソースのみにアクセス許可するIAMアクセス許可が必要です。 
- 3.ロールのUpdateAssumeRolePolicyアクションを使用して、ロールに信頼ポリシーを添付できます。
- 4. 信頼ポリシーを使用すると、Amazon EC2はロールとロールにアタッチされたアクセス許可を使用できます。 IAM ロールの信頼ポリシーは、IAMロールの権限移譲操作に特化したポリシーになります。当該の信頼ポリシーを関連づけたIAMロールが保有する権限を、信頼ポリシーの操作主体に移譲することができます。

## 53.
- DynamoDB グローバルテーブル: 別のAWSリージョンのユーザーがDynamoDBテーブルのデータに低レイテンシーでアクセスできるようになります。
- DynamoDB ストリーム: 順序指定された変更ログ

## 54.
- Route53を利用して複雑なルーティングポリシーを設定する際の機能: トラフィックフローのビジュアルエディターでトラフィックポリシーを作成する。

## 55.
- cfn-init ヘルパーリクエスト:AWS::CloudFormation::Init キーからテンプレートメタデータを読み取り、それに応じて次のような操作を行います。
    - AWS CloudFormation のメタデータの取得と解析
    - パッケージのインストール
    - ディスクへのファイルの書き込み
    -サービスの有効化/無効化と開始/停止 
- cfn-signal ヘルパースクリプト: Amazon EC2 インスタンスが正常に作成または更新されたかどうかを示すシグナルを AWS CloudFormation に送信します。 
- cfn-hup ヘルパー: リソースメタデータの変更を検出し、変更が検出された場合は、ユーザーが指定した操作を実行するデーモンです。
- cfn-get-metadata ヘルパースクリプト: AWS CloudFormation からメタデータブロックを取得して、標準出力。

## 56.
- RedShift マルチモード: クラスタのノード数を設定することができます。これは複数ノードが利用可能になることで、単一ノード障害への耐久性が向上しますが、複数AZや複数リージョンの構成ができません。
- Redshift クロスリージョンスナップショット: スナップショットを別リージョンに取得するように設定できます。セカンダリー用のバックアップとして機能させることができます。

## 57.
- 適切なインスタンスタイプの設定方法: CPU、RAM、ネットワーク、ストレージサイズ、およびI / Oをどのように利用するかに応じて設定。

## 59.
- AWSの責任共有モデルではAWSが次のリソースに対するセキュリティを管理することを指定しています。
    - 施設
    - ハードウェアの物理的セキュリティ
    - ネットワークインフラストラクチャ
    - 仮想化インフラストラクチャ   
- 顧客側は以下のリソースに対するセキュリティに責任があります。 
    - Amazon Machine Images（AMI）
    - アプリケーション
    - 転送中のデータ
    - 保管中のデータ
    - データストア
    - 資格情報
    - ポリシーと構成 

## 60.
- ENI(Elastic Network Interface Card):物理的な環境におけるNIC（Network Interface Card）のことです。仮想ネットワークインターフェース。
    - サーバーに複数枚挿すことで、サーバーが担う複数の役割に応じてIPアドレスを複数持たせたり、異なるセグメント間で1台のサーバーを動作させたりすることができる。
    - VPC の各インスタンスには、プライマリネットワークインターフェイス (eth0) と呼ばれるデフォルトのネットワークインターフェイスが存在する
    - EC2インスタンスには ENIがアタッチされており、そのENIに付与されたIPアドレスでEC2インスタンスは通信を行います。
    - Elastic IP アドレスが与えられている場合、ネットワークインターフェイスのプライベート IPv4 アドレスの 1 つをそれと関連付けることができる。ネットワークインターフェイスはサブネットに固有であるため、これが Elastic IP アドレスを別のサブネットまたは VPC のインスタンスに関連付ける唯一の方法になる。
- セカンダリ ENI:　手動で付与するENI。利用することで、ENIをインスタンスに接続、またはインスタンスから切り離すことができます。複数のプライベート IP をそれぞれのセカンダリ ENI に対して設定することが可能です。これを利用して、フェールオーバー時にセカンダリーENIへと移行させることで、IPアドレスの切り替えが可能となります。 
- ハードコード: 特定の動作環境に決め打ちした実装。

## 61.
- ELBのセキュリティポリシー: クライアントとロードバランサー間のSSLネゴシエーション中にサポートされる暗号とプロトコルを決定します。
    - ELBSecurityPolicy-2016-08 (デフォルト)

## 64
- X-Forwarded-For リクエストヘッダー: HTTP または HTTPS ロードバランサーを使用する場合に、クライアントの IP アドレスを識別するのに利用されます。ヘッダーにclient ipを付与してトラフィックをフィルタリング。

## 65.
- ELBのリスナー: 設定したportとプロトコルを使用して接続リクエストをチェックするプロセス。HTTPS リスナーを作成するには、デフォルト証明書 と呼ばれる 証明書を指定する必要があります。HTTPS リスナーを作成した後、デフォルト証明書を置き換えることができます。 
- AWS Certificate Manager: 期限切れ前に自動的に証明書を更新する。

## 68.

- opt: 選ぶ
- opt out: 身を引く
- オプトアウト: ユーザから情報提供を拒否することを意味します。デフォルトではサービス改善のために処理されたコンテンツの使用されることがありますが、オプトアウトすることによりそれを制限することが可能です。
- AWSのAI系opt out policy: AWSのAI系のpolicyを使用するとAWSへサービス改善のために情報が収集されるがそれを拒否することができる。
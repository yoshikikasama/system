# CloudLicence

## 51.

- Trusted Advisor の公開キー CloudWatch 　イベントモニター:

  - ![image](https://github.com/yoshikikasama/system/assets/61643054/0cb9443c-21f3-467b-afc8-8e97bf2ef322)
  - 1AM アクセス キーは、Trusted Advisor によって監視されている一般的なコード リポジトリ（例：github）の 1 つに誤ってアップロードされます。
  - Trusted Advisor はキーを検出し、Trusted Advisor の公開アクセス キー CloudWatch イベントを生成します。AWS はまた、キーが実行できる API 呼び出しを一時的に制限します。
  - 3.Exposedkey 設定された CloudWatch イベント ルールがこのイベントと一致し、次のサブステップを持つ Step Functions ステートマシンの実行をトリガーします。
    - 公開された IAM アクセス キー ペアを削除する
    - CloudTrail からのユーザーの最近の API アクティビティの概要
    - 概要を含むセキュリティ通知メッセージを SecurityNotificationTopicSNS トピックに送信します。

## 52.

- Amazon AWS Health によるイベントのモニタリング EventBridge: 作成したルールに基づいて、イベントがルールで指定した値と一致したときに 1 EventBridge つ以上のターゲットアクションを呼び出します。イベントのタイプに応じて、イベント情報の取得、追加イベントの開始、通知の送信、是正措置の実施、またはその他のアクションを実行することができます。たとえば、Amazon Elastic Compute Cloud (Amazon EC2) インスタンスなど、 AWS AWS アカウント 更新が予定されているリソースがにある場合に、を使用して AWS Health E メール通知を受け取ることができます。

- Amazon EC2 Auto Scaling では異常なインスタンスをデバッグする際にインスタンスをスタンバイ状態にすることが推奨される。スタンバイ状態にすることでインスタンスが終了されない。

- AWS Config：マルチアカウントマルチリージョンのデータ集約

  - AWS Config アグリゲータ は、すべてのアカウントから AWS Config の設定とコンプライアンスデータを収集するのに役立ちます。このデータの収集により、IAM ポリシーの準拠を一元的に確認することができる
  - AWS Config はリソースの設定変更を記録し、IAM ポリシーの準拠を継続的に評価します。そのため、すべてのアカウントに AWS Config ルールをデプロイすることで、組織全体の IAM ポリシーの準拠を継続的に確認し、適宜修正することができる

  ## 53.

- ![image](https://github.com/yoshikikasama/system/assets/61643054/c4d38a52-2024-4761-b7a5-9fec157a78ae)
Route 53 エイリアスレコードとヘルスチェック
  - 2. Route 53 ヘルスチェック: Route 53 を使用してプライマリリージョンの ALB のヘルスチェックを行います。ヘルスチェックが失敗した場合、トラフィックを災害復旧リージョンにリダイレクトします- 2. ALB と Auto Scaling グループ
Primary Region (us-east-1): プライマリリージョンには、Application Load Balancer (ALB) と Auto Scaling グループが設定されており、複数のアベイラビリティーゾーンにまたがってアプリケーションを実行します。
Disaster Recovery Region (例: us-west-2): 災害復旧リージョンにも同様に ALB と Auto Scaling グループを設定します。この構成はプライマリリージョンの障害時に迅速に切り替えられます。
3. RDS インスタンスとリードレプリカ
プライマリリージョンの RDS (Multi-AZ): データベースはプライマリリージョンにマルチ AZ 配置で設定されています。
災害復旧リージョンの RDS リードレプリカ: 災害復旧リージョンにはリードレプリカを設定します。プライマリリージョンで障害が発生した場合、AWS Lambda と CloudWatch Events を使用してリードレプリカをマスターに昇格させます。
災害復旧手順


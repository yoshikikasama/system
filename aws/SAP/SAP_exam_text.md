# SAP 試験テキスト

- IAM について:

  - https://qiita.com/c60evaporator/items/0121399880625cc1de51
  - 管理ポリシー → スタンドアロン（ユーザーやロールとは別個に作成する）ポリシー
    - AWS 管理ポリシー → AWS がデフォルトで準備している IAM 管理ポリシー
    - カスタマー管理ポリシー → 利用者が独自に作成、管理する管理ポリシー
  - インラインポリシー → 1 つのアイデンティティ（ユーザー、ロール、グループ）に埋め込まれたポリシー
  - AWS 管理ポリシーを使用 → 必要に応じてカスタマー管理ポリシーを追加の順で選択・運用する事が推奨されています (インラインポリシーは推奨度低)
  - policy の記述:
    - Version → ポリシーの記述言語のバージョン（基本的には 2012/10/17 で固定）
    - id → ポリシーの識別子（オプションのため、上記 AmazonS3ReadOnlyAccess では記述なし）
    - Statement → ポリシーの詳細を記述するフィールド
    - Statement フィールドの下には、以下のフィールドに具体的な条件を記述する必要があります。
    - Effect → アクセス権限の種類（基本的には"Allow"(許可)か"Deny"(拒否)）
    - Action → 許可または拒否するアクション（アスタリスク\*は以下の全アクションが対象となる）
    - Resource → アクションの設定対象となるリソース一覧（S3 の場合、バケット名等を指定）
    - Sid → 複数 Statement が存在する場合の識別子（上記 AmazonS3ReadOnlyAccess では記述なし）
    - Condition → ポリシー適用対象を絞るための追加条件（上記 AmazonS3ReadOnlyAccess では記述なし）
  - リソースベースのポリシー: 例えば S3 のバケットには、独自のリソースベースのポリシー(バケットポリシー)を設定する事ができます。これにより、アクセスされる側であるバケットへのアクセス制御を実現する事ができます。リソースベースのポリシーは使用できるサービス（S3、SQS、VPC 等）が限られていますが、特定のリソース（例：S3 内の特定のバケットに保存された機密データ）のセキュリティを選択的に高めたい場合に役立つでしょう。
  - 信頼ポリシー: あるロールが持っている権限を他のプリンシパル（ユーザー、グループ、ロール）に移譲することができます
  - PassRole: Role を移譲するポリシー

- VPC:

  - https://qiita.com/c60evaporator/items/2f24d4796202e8b06a77
  - サブネット: ネットワーク部が等しい IP アドレス範囲のこと。サブネットを表すアドレスをネットワークアドレスと呼びます
  - ルーティング: サブネットの結節点において他のサブネットとの通信経路を決定する制御を指します。自サブネット以外との通信にはルーティングが必要となるため、複数のサブネットが存在するネットワークにおいて必須の技術と言えます。
  - ルーティングテーブル: ルーティングのルールを定めるテーブル。ルールの決め方には、IP アドレスに基づいて毎回同じ経路が選択される「静的ルーティング」と、動的に経路が決定される「動的ルーティング」が存在しますが、VPC では基本的に静的ルーティングを使用します (VPN やトランジットゲートウェイ使用時は BGP による動的ルーティングでオンプレネットワークと連携することもできます)
  - VPC においては、「ルートテーブル」というサービスを使用する事でサブネット (後述)ごとにルーティングを制御できます。
  - DHCP(Dynamic Host Configuration Protocol): ホストにネットワーク関係の情報を渡すためのプロトコルです。一般的に、ホストにプライベート IP アドレスを動的に割り振る際に使用されますが、それ以外にも DNS サーバの IP アドレスやデフォルトゲートウェイ(ルーター)の IP アドレス等の情報がホストに渡されます。VPC においても、後述の Elastic IP を使用しない限りはこの DHCP 機能が働き、VPC 内部のインスタンスの IP アドレスは動的に割り振られます (再起動すると IP アドレスが変わる)
  - 外向き：内部ネットワーク(VPC 等)からインターネット方向への通信
  - 外向き：内部ネットワーク(VPC 等)からインターネット方向への通信
  - パブリックサブネット:
    - インターネットと直接通信できるサブネット。
    - インターネットゲートウェイにルーティングされるサブネット。
    - パブリックサブネットは外部から(へ)のアクセスが必要な Web サーバやプロキシサーバを設置する。
  - プライベートサブネット:
    - インターネットと直接通信できないサブネット
    - インターネットとの通信が必要ないインスタンスを設置する
  - メインルートテーブル：VPC ごとに自動で作成されるルートテーブル(編集も可能)。サブネットルートテーブルが設定されていないサブネットに適用される
  - サブネットルートテーブル：ユーザが自分で作成し、サブネットと紐づけるルートテーブル
  - インターネットゲートウェイと NAT ゲートウェイ:
    - ![Screenshot 2023-07-02 at 8 28 32](https://github.com/yoshikikasama/network-and-server/assets/61643054/d482496d-ca4f-491f-913c-32b91078bfbe)
    - インターネットゲートウェイ: パブリックサブネットを作成する際に必ず必要となるサービスであり、インターネットとの外向き、内向き双方向の通信を許可します。
    - NAT ゲートウェイ: プライベートサブネットから外向きの通信のみを許可する(内向きは許可しない)サービス。
  - Security Group: サーバ単位あるいはサービス単位といった単位のフィルタ
  - Network ACL: 「特定の IP アドレスからは一切通信をドロップする」といったネットワーク単位での大きなフィルタ
  - ![Screenshot 2023-07-02 at 9 15 21](https://github.com/yoshikikasama/network-and-server/assets/61643054/498cb239-c26a-40ad-be91-6cd79aa8cca6)
  - <img width="760" alt="Screenshot 2023-07-03 at 22 10 52" src="https://github.com/yoshikikasama/network-and-server/assets/61643054/efb25a85-dae8-4fd4-9f4d-e0e23d1c2a48">
  - Egress Only インターネットゲートウェイ: IPv6 専用のインターネットゲートウェイで、外向きの通信のみを許可する(内向きは許可しない)という意味
  - ネットワークファイアウォール: ホワイトリスト・ブラックリスト両者、かつステートレス・ステートフル両者を設定可能で、柔軟なアクセス制御を実現できます。注意点として、ネットワークファイアウォール使用時はルートテーブルを編集して、インターネットとの通信が必ずファイアウォールエンドポイントを経由するよう設定する必要があります。
  - AWS WAF:
    - Web アプリケーションの脆弱性を利用した攻撃から web アプリケーションを保護するサービス。
    - 複数のルールを組み合わせて使用
    - Application Load Balancer(ALB)、Amazon CloudFront、Amazon API Gateway、AWS AppSync にアタッチして使用。トラフィックの検査を開始するには、既存の ALB または CloudFront ディストリビューションでサービスを有効にする必要があります。
  - AWS Network Firewall:
    - VPC サブネットに配置して使用するマネージドサービス
    - ただの FW ではなくシグネチャベースの IDS/IPS としても使用可能
    - パケットのペイロードまで見て、フィルタリングを行う
    - ルールで評価した通信に対してアクションを選択可能
    - ![Screenshot 2023-07-08 at 19 37 11](https://github.com/yoshikikasama/network-and-server/assets/61643054/5120d839-78ae-4ee8-a4be-1f88026f4444)
    - ネットワークコスト:
      - AWS への受信（イン）は料金が発生しない
      - AWS からの送信（アウト）は料金が発生する
      - なんらかのゲートウェイを経由するとデータ転送量に応じた料金が発生する

- Amazon EC2:

  - ![Screenshot 2023-07-12 at 6 46 54](https://github.com/yoshikikasama/network-and-server/assets/61643054/a74721bc-d317-449a-8002-30aef0279c89)
  - AMI (OS): AMI (Amazon Machine Images)とは、インスタンス起動時に実行される OS イメージを表します。
  - インスタンスタイプ: サーバにおいて処理を実行する装置(CPU, メモリ等)を選択します。
    - t2.micro のような名称で表されます。名称の解釈として、t の部分がインスタンスの種類(ファミリー)、2 の部分が世代、micro の部分がサイズを表しており、ファミリーは用途と対応、世代とサイズは基本的に大きいほど高スペックとなります。
  - ストレージ (EBS):パソコンにおける HDD や SSD と同様に、EC2 にもストレージを付与する必要があります。特に、起動用 OS がインストールされたストレージ (ルートボリューム)は必須です。
    - EC2 のストレージには一般的に、EBS (Elastic Block Store)というサービスが用いられますが、特殊な用途ではインスタンスストアと呼ばれるサービスも使用されます。
    - ![Screenshot 2023-07-12 at 6 53 14](https://github.com/yoshikikasama/network-and-server/assets/61643054/8329ab9a-d459-4b6b-b63f-b53c54980650)
    - スループット: 大きなファイルを一度に読み書きする際の速度
    - IOPS: 細切れのファイルに頻繁に読み書きする際の速度
    - EBS は EC2 と一体化して動作するという特性上、同じ AZ 内の EC2 インスタンスとしか紐づけられません。
  - インスタンスストア:
    - EBS と比べデータ消失のリスクがある (冗長性がない＆インスタンス停止時にデータが消える)が、高速アクセス(特に IOPS が速い)が可能なストレージで、耐障害性を犠牲にしてでも高頻度アクセスにおける処理速度を重視したい用途 (一時ストレージ等)に向いています。
    - AWS でよく使用されるストレージに EFS が挙げられ、こちらは EBS のように EC2 にマウントでき、かつ複数の EC2 インスタンスで共有ができるため、NAS に近い存在と言えます (捉え方によっては S3 と EBS の中間的な存在とみなせる)。また EFS は Lambda や Fargate 等の EC2 以外のコンピューティングサービスでも使用できます。
    - ![Screenshot 2023-07-12 at 7 08 25](https://github.com/yoshikikasama/network-and-server/assets/61643054/883b0c9f-369a-4d16-a820-8eb69996ebf1)
  - ENI (Elastic Network Interface):
    - 通常の PC において、NIC と呼ばれる LAN ポートを内蔵したカードを着脱することで、ネットワークの接続経路を増やしたり減らしたりする事ができます。
    - AWS でも同様に、ENI (Elastic Network Interface)と呼ばれるサービスを着脱 (アタッチとデタッチ)する事で、ネットワークへの接続経路、すなわちインスタンスに付与された IP アドレスの数を増やしたり減らしたりすることができます。
    - ENI がないとネットワークにアクセスできないため、EC2 インスタンスにはデフォルトで 1 個 ENI が付加されていますが、さらに ENI を追加することもできます
  - プレイスメントグループ:
    - 物理的位置が遠いマシンと近いマシンでは、基本的に後者の方が通信速度(厳密には「行って帰ってくるまでの時間=RTT, レイテンシー」)が早くなります。
    - 同様に AWS においても、複数のインスタンスをグループ化して RTT が小さくなるよう配置することで、同一 AZ 内のインスタンス同士の通信速度を向上させるプレイスメントグループと呼ばれる機能が存在します。
    - ![Screenshot 2023-07-12 at 7 17 03](https://github.com/yoshikikasama/network-and-server/assets/61643054/271a7c2f-4470-425b-84cb-ad176c8de91d)
  - AMI とスナップショットの使い分け:
    - 元あったインスタンスの中身を再現するためには、AMI とスナップショット両方を取得する必要があります
    - AMI: インスタンスの構成情報(アーキテクチャ＋紐づいたスナップショット等)。AMI はスナップショットの紐付け情報も保持しているため、AMI はスナップショットを内包する存在とみなすこともできます。よって実用上は AMI のみを取得することでスナップショットを兼ねる事ができ、両者を別個にバックアップする必要は低いと言えます
    - スナップショット: EBS 内のデータ(OS の実イメージ＋後からインストールされたソフト等)
    - 作成した AMI を長期間放置するとセキュリティパッチ等が当たらずに危険なので、EC2 Image builder で定期的に中身を更新する事が推奨されます
  - EC2 Image builder:
    - 作成した AMI を長期間放置すると、内部の OS やパッケージにパッチや更新が適用されず、脆弱性が放置されてセキュリティ的に危険な状態となります。
    - このような事態を防ぐために、最新バージョンのパッケージがインストールされた AMI を自動で作成・展開できる EC2 Image builder と呼ばれる機能が準備されています。
  - 起動テンプレート:
    - 同じ設定のインスタンスを複数起動したい場合、上記の設定を毎回入力していては面倒です。そこで、インスタンス起動時の設定を「起動テンプレート」として登録することで、次回以降の設定入力を簡略化することができます。
    - この起動テンプレートは Auto Scaling 使用時はほぼ必須とも言える機能で、Auto Scaling グループ内のすべてのインスタンスに本機能で作成した設定を渡すことができます。
  - インスタンスの購入方式:
    - Savings Plans: リザーブドインスタンスが「期間内ずっとインスタンスを起動し続ける」事を前提としているのに対し、Savings Plans は「期間内ずっと、1 時間あたり最低 ◯ ドル分インスタンスを使用する」という、最低使用量が定められるサービスとなります。
  - セキュリティグループ:
    - VPC 内のリソース (インスタンス)と外部との通信を制限する機能。
    - デフォルトでは 25 番ポート(SMTP=メール転送での踏み台防止)以外全ての外向き通信を許可する。

- S3 Bucket:

  - アイデンティティベースとリソースベース(バケットポリシー, S3 アクセスポイント)両方のポリシーが設定された場合、両方のポリシーで許可されている主体のみがアクセスを許可されます。
  - アイデンティティベースのポリシー: アクセスする側(ユーザー、ロール)にアタッチするポリシー。S3 全体に対するアクセス権限を付与したい場合。
  - バケットポリシー非設定時はバケット所有者の AWS アカウントのみアクセスが許可されるので、バケットへのアクセスには以下のポリシー設定が必要となります
    - バケット所有者の AWS アカウントからバケットにアクセスする場合: アイデンティティベースのポリシーの設定が必要
    - 上記以外からバケットにアクセスする場合: アイデンティティベースとリソースベース両方のポリシーの設定が必要

## 2. 組織の複雑さに対する設計

- 混乱した代理問題: IAM Role の ARN 登録ごとに一意の外部 ID を発行

- AD Connector:
  - オンプレミスなどのデータセンターなどで稼働している Active Directory の認証をそのまま使用できる
  - VPN や Direct Connect で VPC とオンプレミスのネットワークを接続して使用する。
- Simple AD:
  - Samba 4 Active Directory Compatible Server
  - 最大 5000 ユーザー
- AWS Managed Microsoft AD:
  - 5000 を越えるユーザー
  - 他ドメインとの信頼関係
- SSO パターン:

  - ADFS(Active Directory Federation Services)を使用した AWS への SSO:
    - SAML2.0 互換につきコーディングの必要なし
    - AD セキュリティグループと IAM Role をマッピング
  - SAMPL サポートの IdP との SSO 構成:
    - SAML 対応の ID プロバイダーを設定できる
  - AWS SSO で ID ソースを AWS SSO とした構成:

    - SAML プロバイダーと IAM ロールの設定が AWS SSO によって自動化
    - AWS SSO にサインインすれば許可されたアカウントに許可された権限でアクセスできる。

  - VPC エンドポイント:
    - ゲートウェイエンドポイント: VPC サービス専用のゲートウェイをアタッチ。対象サービスは S3 と DynamoDB
    - インターフェースエンドポイント:
      - VPC のサブネットに ENI を作成、ENI に割り当てられたプライベート IP アドレスを使用してサービスにアクセス。
      - エンドポイントポリシーがあり、エンドポイントを使用したリクエストのアクションやリソースを絞ることができる。デフォルトは全てのリソース、アクション。

- AWS Site-to-Site VPN: VPC に仮想プライベートゲートウェイをアタッチして、データセンターなどのオンプレミスのルーターと、インターネットプロトコルセキュリティ(IPsec)VPN 接続が可能。

  - カスタマーゲートウェイ: オンプレミス側のルーターなど、動的ルーティングでは BGP(ボーダーゲートウェイプロトコル)ASN の指定が可能。
  - VPN 接続を作成すると仮想プライベートゲートウェイは 2 つの AZ にそれぞれトンネルを作成する。トンネルにはそれぞれ publicIP を使用する。カスタマーゲートウェイで 2 つのトンネルを設定することで冗長性が確保され、どちらかのトンネルが使用できなくなったときは、もう一方へ自動ルーティングされる。

- AWS Direct Connect(DX): ユーザーまたはパートナーのルーター(Customer Router)から Direct Connect のルーター(DX Router)に、標準のイーサネット光ファイバケーブルを介して接続するサービス。
- 仮想インターフェース(VIF): AWS Direct Connect 接続を使用するのに必要。
  - プライベート仮想インターフェース:
    - VPC にアタッチされた仮想プライベートゲートウェイ、または Direct Connect Gateway に接続する仮想インターフェース。
    - プライベート IP アドレスを使用。
    - 同一 region の仮想プライベートゲートウェイ → VIF
    - 異なる region の仮想プライベートゲートウェイ → Direct Connect Gateway
  - パブリック仮想インターフェース:
    - public な AWS サービス(S3, DynamoDB など)にアクセスできる。
  - トランジット仮想インターフェース:
    - Direct Connect Gateway に関連付けられた TransitGateway にアクセスできる。
- AWS Transit Gateway: 最大 5000 の VPC やオンプレミス環境の接続を簡素化。

  - VPC のサブネットにアタッチメントとして ENI を作成し、Transit Gateway と関連づける
  - オンプレミスとの接続には VPN 接続や Direct Connect と接続する。

- Route53 Resolver:

  - インバウンドエンドポイント: 他のネットワーク、例えばオンプレミスから Route53 プライベートホストゾーンに対しての DNS クエリを使用できる。
  - アウトバウンドエンドポイント: VCP から他のネットワーク、例えばオンプレミス DNS に対しての DNS クエリを使用できる。

- AWS Orgaizations:

  - ![Screenshot 2023-07-29 at 19 02 56](https://github.com/yoshikikasama/network-and-server/assets/61643054/405b998d-88c1-4074-a235-a7f65d83dbfe)
  - 一括請求のメリット:
    - 1 つの請求書、統合請求データ
    - 合計量によるボリュームディスカウント: 複数アカウントの合計容量による従量制の割引が受けられる。S3 のストレージ量やデータ転送量などボリューム料金階層がある料金についてメリットがある。
    - リザーブドインスタンス、Saving Plans の共有: 組織のアカウント合計使用量として適用できる。
  - CloudFormation StackSets: 複数 region、複数アカウントにスタックを作成して、変更、削除、管理できる機能。
  - CloudTrail: Organizations のマスターアカウントで組織内の全てのアカウントについて CloudTrail を有効化できる。このとき書き出される S3 オブジェクトの prefix には組織 ID が含まれる。
  - AWS Service Catalog: ポートフォリオと製品を作成でき、Organizations 組織で OU を指定して共有できる。製品は CloudFormation スタックによる AWS リソースにより構成された、ユーザーが事前に準備したソフトウェアサービス。

- AWS Control Tower:
  - Landing zone: 複数アカウントのベストプラクティスを自動構築。
  - Security OU:
    - Log Account:ログを集約。
    - Audit Account: 各アカウントから SNS TOPIC への通知を集約して監査担当者へ通知
  - Sandbox Ou: 検証、開発などのアカウントを構築
  - Control Tower ダッシュボード: Config ルールによって抽出された非準拠リソースを抽出できる。
  - <img width="954" alt="Screenshot 2023-07-29 at 19 02 39" src="https://github.com/yoshikikasama/network-and-server/assets/61643054/bc20d264-9f6e-4602-9964-cde01f473153">

練習問題：

1. D
2. B❌ C
3. A
4. B
5. D
6. A,D
7. C
8. D❌A
9. C❌D
10. D❌A
11. B❌D
12. B❌C,D
13. D
14. A
15. D
16. A,D
17. D

## 3. 新しいソリューションの設計

- AWS KMS: CMK(Customer Master Key)を管理して、データキーを生成・暗号化・復号するなど、暗号化に必要なキー管理、キーオペレーションを提供する Managed Service。

  - カスタマー管理の CMK: AWS ユーザーが作成、管理、完全に制御する CMK。
  - AWS 管理の CMK: AWS が作成管理する CMK。
  - 対称暗号化: 1 つのデータキーを使った暗号化・復号化
  - 非対称暗号化: Public と Private のキーペアを使って暗号化・復号化を行う。
  - Key の自動ローテーションが可能。

- Amazon S3 クライアントサイド暗号化: S3 に保管されるデータの暗号化。AWS に書き込まれるときに暗号化され、オブジェクトデータにアクセスするときに復号される。

  - SSE-S3: S3 が管理する key によるサーバーサイド暗号化。
  - SSE-KMS: KMS で管理している Key によるサーバーサイド暗号化。
  - SSE-C: オンプレで作成された Key などのユーザー指定 key によるサーバーサイド暗号化。

- AWS CloudHSM:

  - Key 保存、暗号化 Operation を実行するハードウェアを物理的に専有するサービス。
  - 複数の AZ を指定してクラスタを作成し、冗長性と高可用性を実現する。

- AWS Certificate Manager: Public, Private 証明書の保存、更新を提供する無料のサービス。

- Amazon Cognito: web application や mobile application に安全に認証を提供するサービス。

  - Cognito ユーザープール: 認証基盤を開発しなくても web application や mobile application からのサインアップ、サインインのために使用できる。
    - <img width="957" alt="Screenshot 2023-07-30 at 16 45 37" src="https://github.com/yoshikikasama/network-and-server/assets/61643054/a3162858-90ad-448f-997d-cd98774c0588">
  - ID プール: mobile application やクライアントサイド JavaScript が動作しているアプリケーションで AWS のサービスに対して安全にリクエストを実行できる。
    - <img width="973" alt="Screenshot 2023-07-30 at 16 49 24" src="https://github.com/yoshikikasama/network-and-server/assets/61643054/5cf0b889-5081-42a2-915c-472456256711">

- Amazon Kinesis: 以下のものがあります。どの機能もニアリアルタイム(なるべくすぐ)にデータが発生するごとに処理を行なっていく、ストリーミング処理のためのサービス。

  - Kinesis Data Streams:
    - 秒あたり数 GB のデータをリアルタイムにストリーミング処理する。送信データには partition key を使用。
    - シャード一つで 1 秒あたり 1MB, 1000 レコードの取り込みと、1 秒あたり最大 2MB の読み込みが可能。
  - Kinesis Data Firehose: 最低 60 秒のバッファでデータを S3 などに簡単に格納する。送信前に AWS Glue や Lambda での加工ができる。streams より遅い。
  - Kinesis Data Analytics: Kiesis Streams や Firehose のストリーミングデータを SQL など使い慣れた言語を使ってリアルタイムに抽出検索する。
  - Kinesis Video Streams: 監視カメラなどからリアルタイム検知のための動画データをストリーミング upload する。

- RPO(Recovery Point Objective): 目標復旧時点、障害発生によりオンラインのデータが失われた場合に、バックアップから復旧したデータはいつの時点まで戻っても良いか。RPO が 24 時間の場合は、バックアップは 1 日 1 回となる。
- RTO(Recovery Time Objective): 目標復旧時間、障害発生からシステムが完全復旧するまでに要する時間。
- ![Screenshot 2023-07-30 at 19 03 10](https://github.com/yoshikikasama/network-and-server/assets/61643054/8cb92837-c5d9-4ed6-89a6-648c4eae05ec)

- バックアップ&リストア:
  - バックアップを別リージョンに退避し必要あればリストア。
  - 別リージョンに AMI, DB のバックアップデータ、CloudFormation template からの復元など。
- パイロットライト:
  - 平常時は停止した状態で環境を用意し、非常時に起動
  - RDS クロスリージョンリードレプリカ
  - S3 Bucket はクロスリージョンレプリケーション
  - DynamoDB はグローバルテーブル
  - AMI と CloudFormation template を作成
  - ![Screenshot 2023-06-28 at 6 45 05](https://github.com/yoshikikasama/network-and-server/assets/61643054/f5df0449-f65c-4be6-8878-52f7d2ebf231)
- ウォームスタンバイ:
  - 平常時は最小限のリソースで起動し非常時にスケール
  - パイロットライト構成+ Web 層とアプリケーション層も最小構成で稼働しておく
  - 災害発生時:
    - EC2 は Auto Scaling
    - RDS はマスター昇格
    - Route53 ヘルスチェックと DNS フェイルオーバーで自動でルーティング切り替え
- マルチサイト:
  - 常時、複数リージョンを使ってサービスを提供
- ![Screenshot 2023-06-28 at 6 27 49](https://github.com/yoshikikasama/network-and-server/assets/61643054/2fc1417b-cec2-4a05-914d-7fded7730e33)
- アクティブ/パッシブ(フェイルオーバー):

  - プライマリリソースまたはリソースグループをほとんどの時間で利用可能にして、すべてのプライマリリソースが使用できなくなった場合に備えて、セカンダリリソースまたはリソースグループをスタンバイ状態にします。クエリへの応答で Route53 が返すのは、プライマリリソースのみで、すべてのリソースで異常が発生した場合、Route53 は DNS クエリへの応答として正常なセカンダリリソースのみを返します。

- AWS Storage Gateway: オンプレミスから主に S3 などの AWS ストレージサービスを Backup 用に使用できる。

  - ファイルゲートウェイ: SMB もしくは NFS プロトコルでマウントしたデータを保存するケースで利用。
  - ボリュームゲートウェイ: iSCSI ブロックストレージボリュームをオンプレミスが必要とする場合はボリュームゲートウェイを使用。
    - 保管型ボリュームゲートウェイ: プライマリーデータストレージとしてローカルのストレージを使用し、データを非同期に S3 にバックアップする。
    - キャッシュ型ボリューム: 頻繁にアクセスされるデータをローカル環境に保持しながら、S3 をプライマリデータストレージとして使用できる。
  - テープゲートウェイ: backup の保存先をテープ装置から AWS の仮想テープライブラリに変更することが可能。

- EC2 の T2,T3,T3a,T4g インスタンスの CPU バーストパフォーマンス:

  - CPU のベースとラインを超えてバーストすることができる。
  - バーストしているときは CPU クレジットを消費している。

- EC2 のプレイスメントグループ:

  - クラスター: 同一の AZ に配置。拡張ネットワーキングとの併用が望ましい。インスタンス間で低レイテンシー、高スループットなネットワーク性能。
  - パーティション: 起動するインスタンスのホスト・ラックを分散。ハードウェア障害の頻度を低減。ワークロードの相関障害の軽減など。
  - スプレッド: 複数 AZ に独自のネットワークおよび電源がある異なるラックにインスタンスを配置。ハードウェア障害の頻度を低減。各 EC2 インスタンスを個別に独立したハードウェアに配置する必要がある場合など。

- Amazon FSx for Lustre:
  - Lustre を効率よく起動。
  - Lustre:大規模な HPC(High Performance Computing)やスーパーコンピュータで使用されている分散ファイルシステムがある。
- S3 Transfer Acceleration:
  - S3 Bucket のある region から離れた大陸や地域から Upload する場合のレイテンシーを改善するために全世界のエッジロケーションを利用する。

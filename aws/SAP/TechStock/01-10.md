# Techstock

- Amazon EC2 の Ephemeral Disk(Instance Store Volume):
  - 「インスタンスストア」という領域に存在する「インスタンスストアボリューム」のこと。
  - インスタンスを停止するとデータが消去される。
  - データ計算用、一時ディスクとしての使用。

## 01

- AWS Organizations: 複数の AWS アカウントを効率的に管理・統制するためのサービス。

  - 新しい AWS アカウントを作成しリソースを割り当てる
  - AWS アカウントをグループ化して整理
  - AWS アカウントまたはグループに統一されたポリシーを適用
  - すべての AWS アカウントに単一の支払い方法を利用することで請求を簡素化
  - OU(Organization Unit): 組織単位。組織内にある複数 AWS アカウントのグループ。
  - SCP(Service Control Policy): AWS アカウントまたはグループに統一されたポリシーを適用するための機能です。
    - 「SCP と IAM で明示的に許可され」なおかつ「いずれでも明示的に拒否されていない」場合に権限を有していると評価されます。
    - 「ざっくりとした」制限を SCP で実施し、細かい制御を IAM で実施する、というアプローチが適切かと思います。
  - 組織の証跡: OU を作成した場合に、その OU 内の全 AWS アカウントの全イベントを記録する証跡を作成できる。
  - 利用可能な機能セット:
    - 全ての機能: 一括請求機能も含む、高度なアカウント管理機能。
    - 一括請求機能: OU 内のアカウント管理を一元化する基本的な機能。
  - ![Screenshot 2022-11-23 at 9 33 50](https://user-images.githubusercontent.com/61643054/203450104-8b13678e-2e1a-4ec7-96ff-e481e872cebd.png)
  - ![Screenshot 2022-11-23 at 9 36 24](https://user-images.githubusercontent.com/61643054/203450125-6d282f87-1410-4c32-9d0c-98d34389fbc7.png)

- AWS Directory Service による AWS Management Console への SSO(Single Sign On):

  - AWS Cloud 内で IAM Role を Microsoft AD または Simple AD のユーザーやグループに割り当てることができる。
  - AD Connector を使用して既存のオンプレミス Microsoft Active Directory のユーザーやグループも割り当てられる。

- ヒューリスティック：

  - 常に正しいとは限らないが経験的にある程度正しい解を導けることが分かっている推論や仮定などを利用して、近似的あるいは暫定的な解を得る手法。
  - 答えの精度が保証されない代わりに、回復に至るまでの時間が少ない。

- AWS のストリーム処理サービス:
  - Amazon Kinesis Data Streams:　ストリームデータを収集するサービス
    - デフォルトの保持期間：24 時間、保持期間の延長：7 日間、長期保存：最大 1 年
  - Amazon Kinesis Firehose: ストリームデータを収集してデータストアに格納するサービス
  - Amazon Kinesis Data Analytics: ストリームデータに対して ETL 処理を行うサービス
  - Amazon Managed Streaming for Apache Kafka: オープンソースのストリーム処理のソフトウェアである Apache Kafka のマネージド・サービス。
- Amazon CloudWatch: AWS リソースの監視、分析、およびアラート設定のためのサービス。
- Hadoop: 巨大なデータをバッチ処理するための並列分散処理基盤
  - HDFS(Hadoop Distributed File System): 複数のサーバーにファイルを分割して保持することで巨大なファイルも扱える。
  - MapReduce: 分散処理フレームワーク
- Amazon Elastic MapReduce(EMR):

  - MapReduce: Google が開発した、大規模なデータを効率的に分散処理するためのフレームワーク。必要な計算内容を実装した Map 処理と Reduce 処理を用意して、分散処理してくれる。
  - Hadoop の場合は非構造化データ
  - 複雑な設定なしに分散アプリケーションを利用可能。
  - 分散処理に必要なリソースを簡単に調達/廃棄可能。
  - Master Node はひとつ。いわゆるマスターの役割を担う。
  - Core Node は 1 つ以上。いわゆるスレーブの役割を担う。
  - クラスタを消してもデータは消えない。
  - EMR は Hadoop クラスタの構築と運用を行ってくれます。マネジメントコンソールで Hadoop クラスタに利用する EC2 インスタンスのノード数とインスタンスタイプを指定すると、10 分ほどで Hadoop クラスタを構築してくれます。Hadoop クラスタで構成する EC2 インスタンスに異常があれば、異常のあったインスタンスは破棄して新規にインスタンスを起動してくれます。

- syslog: 稼働しているプログラムのログを、効率的に収集し記録する

## 02

- 目標復旧時間(Recovery Time Objective): いつまでに事業を復旧するかという目標時間を表す指標。
- 目標復旧時点(Recovery Point Objective): データ損失の最大許容量。24 時間であれば 24 時間分のデータ損失は許容される。

- AWS VPN(Virtual Private Network): オンプレミスネットワーク、リモートオフィス、クライアントデバイス、および AWS グローバルネットワーク間に安全な接続を確立します。AWS VPN は、AWS サイト間 VPN と AWS Client VPN で構成されています。

  - Site-to-Site VPN VGW:VPC とリモートネットワーク間で、IPsec および VPN 接続を作成できます。Site-to-Site VPN 接続の AWS 側では、仮想プライベートゲートウェイまたはトランジットゲートウェイによって、自動フェイルオーバーのための 2 つの VPN エンドポイント (トンネル) が提供されます。Site-to-Site VPN 接続のリモート側でカスタマーゲートウェイデバイスを設定します。
  - AWS Client VPN:AWS リソースまたはオンプレミスネットワークに安全にアクセスできるようにする、クライアントベースのマネージド VPN サービスです。ユーザーが接続して安全な TLS VPN セッションを確立できるエンドポイントを設定します。そうすることにより、クライアントは OpenVPN ベースの VPN クライアントを使用して、どこからでも AWS またはオンプレミスのリソースにアクセスできるようになります。

- カスタマーゲートウェイ(CGW):
- カスタマーゲートウェイデバイス: オンプレミスネットワーク (Site-to-Site VPN 接続のユーザー側) で所有または管理している物理アプライアンスまたはソフトウェアアプライアンスです。
- 仮想プライベートゲートウェイ(VGW)
- Internet Gateway:特に要件がなく、VPC とインターネットを出入りしたい
- NAT Gateway: IPv4 を使って VPC からインターネットに出るのみ
- Egress-only Internet Gateway:IPv6 を使って VPC からインターネットに出るのみ
- Transit Gateway: 複数の VPC と複数のオンプレミス環境同士の連結を束ねる中央ネットワークハブのような役割。

- VPC Peering:
- VPN Connection:

![Screenshot 2023-05-03 at 8 48 14](https://user-images.githubusercontent.com/61643054/235809440-8752fefd-dd31-48f7-8c5f-1f5a3995d289.png)
![Screenshot 2023-05-03 at 8 46 51](https://user-images.githubusercontent.com/61643054/235809426-341d7792-fb7b-4488-a0ae-1ef813ca703c.png)
![Screenshot 2023-05-03 at 8 48 20](https://user-images.githubusercontent.com/61643054/235809443-626502c0-6484-47c2-ab8e-27817f04db6c.png)
![Screenshot 2023-05-03 at 8 48 29](https://user-images.githubusercontent.com/61643054/235809448-734b7f13-dce3-4bfc-b78a-bf70738ae830.png)


- AWS Direct Connect Location(VGW):
